{"version":3,"file":"/vagrant/cozy-files/build/client/public/javascripts/app.js","sources":["app/application.coffee","app/collections/breadcrumbs.coffee","app/collections/files.coffee","app/helpers/client.coffee","app/helpers/socket.coffee","app/initialize.coffee","app/lib/app_helpers.coffee","app/lib/base_view.coffee","app/lib/folder_helpers.coffee","app/lib/view_collection.coffee","app/locales/en.coffee","app/locales/fr.coffee","app/locales/ro.coffee","app/models/file.coffee","app/router.coffee","app/views/breadcrumbs.coffee","app/views/file.coffee","app/views/files.coffee","app/views/folder.coffee","app/views/modal.coffee","app/views/modal_folder.coffee","app/views/modal_share.coffee","app/views/modal_upload.coffee","app/views/progressbar.coffee","app/views/public_folder.coffee","app/views/tags.coffee","app/views/templates/breadcrumbs_element.jade","app/views/templates/file.jade","app/views/templates/file_edit.jade","app/views/templates/file_search.jade","app/views/templates/files.jade","app/views/templates/folder.jade","app/views/templates/modal.jade","app/views/templates/modal_folder.jade","app/views/templates/modal_upload.jade","app/views/templates/progressbar.jade","app/views/uploaded_file_view.coffee"],"names":[],"mappings":"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ADM;EAAA,CArBV;;AAAA,qBA0BA,aAAY,SAAC,KAAD,EAAQ,EAAR;AACR,MAAE,aAAF,CAAgB,CAAC,GAAjB,CAAsB,SAAK,EAAE,CAAC,QAA9B;AAAA,IACA,EAAE,aAAF,CAAgB,CAAC,OAAjB,CAAyB,OAAzB,CADA;WAEA,EAAE,gBAAF,CAAmB,CAAC,IAApB,GAHQ;EAAA,CA1BZ;;AAAA,qBA+BA,aAAY,SAAC,KAAD,EAAQ,EAAR;AACR,UAAO,IAAC,cAAD,IAAkB,EAAE,CAAC,oBAA5B;AACI,UAAC,MAAK,CAAC,GAAP,CAAW,MAAX,EAAmB,IAAC,IAAG,CAAC,KAAL,CAAW,cAAX,CAAnB;aACA,IAAC,MAAK,CAAC,IAAP,GAFJ;KADQ;EAAA,CA/BZ;;AAAA,qBAoCA,UAAS;AACL;AAAA,QAAC,cAAD,GAAiB,IAAjB;AAAA,IACA,IAAC,IAAG,CAAC,KAAL,CAAW,WAAX,CADA;AAEA;AAAA;qBAAA;AACI,UAAC,IAAG,CAAC,KAAL,CAAW,WAAX,EAAwB,GAAxB,EADJ;AAAA,KAFA;WAIA,IAAC,cAAD,GAAiB,MALZ;EAAA,CApCT;;kBAAA;;GAFoC,SAFxC;;;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhHA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhHA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;;ACAA;EAAA;iSAAA;;AAAA,cAAc,QAAQ,eAAR,CAAd;;AAAA,QAEA,GAAW,QAAQ,kBAAR,CAFX;;AAAA,MAGM,CAAC,OAAP,GAAuB;AAEnB;;;;GAAA;;AAAA,yCAAW,sBAAX;;AAAA,6BAEA,aAAY,SAAC,OAAD;AACR,qDAAM,OAAN;AAAA,IAEA,IAAC,OAAD,GAAU,KAFV;WAGA,IAAC,SAAD,CAAU,IAAC,MAAX,EAAkB,MAAlB,EAA0B;aAAA;AACtB,aAAC,OAAD,GAAU,IAAV;eACA,KAAC,OAAD,GAFsB;MAAA;IAAA,QAA1B,EAJQ;EAAA,CAFZ;;AAAA,6BAUA,WAAU;AACN;AAAA,cAAU,EAAK,6DAEZ,KAAC,MAAK,CAAC,GAAP,CAAW,MAAX,EAFY,GAEQ,iBAFb,CAAV;AAKA,QAAG,IAAC,MAAK,CAAC,KAAV;AACI,aAAO,CAAC,MAAR,CAAkB,8BACP,IAAC,MAAK,CAAC,KADA,GACO,SADzB,EADJ;KAAA,MAIK,IAAG,IAAC,OAAD,IAAW,IAAC,MAAK,CAAC,UAArB;AACD,aAAO,CAAC,MAAR,CAAkB,6BACR,GAAE,gBAAF,EADQ,GACY,SAD9B,EADC;KAAA;AAKD,aAAO,CAAC,MAAR,CAAe,eAAI,CAAY;AAAA,eAAO,IAAC,MAAR;OAAZ,CAA0B,CAAC,MAA3B,EAAmC,CAAC,GAAvD,EALC;KATL;AAgBA,WAAO,OAAP,CAhBA;WAkBA;AAAA,eAAS;AACL,YAAC,cAAD,CAAe,IAAC,MAAhB;eACA,+CAFK;MAAA,CAAT;MAnBM;EAAA,CAVV;;0BAAA;;GAF4C,SAHhD","sourcesContent":["FileCollection = require './collections/files'\nBreadcrumbsManager = require \"./collections/breadcrumbs\"\nFile = require './models/file'\n\nFolderView = require './views/folder'\n\nmodule.exports =\n\n    initialize: ->\n\n        # Routing management\n        Router = require 'router'\n        @router = new Router()\n        @breadcrumbs = new BreadcrumbsManager()\n\n        # Generate the root folder\n        @root = new File\n            id: \"root\"\n            path: \"\"\n            name: t 'root folder name'\n            type: \"folder\"\n\n        # and its view\n        @folderView = new FolderView\n            model: @root\n            breadcrumbs: @breadcrumbs\n        el = @folderView.render().$el\n        $('body').append el\n\n        Backbone.history.start()\n\n        # for easy debugging in browser\n        window.app = @\n\n        # Makes this object immuable.\n        Object.freeze this if typeof Object.freeze is 'function'\n","File = require '../models/file'\r\nclient = require \"../helpers/client\"\r\n\r\nmodule.exports = class BreadcrumbsManager extends Backbone.Collection\r\n\r\n    model: File\r\n\r\n    # we only want to add models in a certain order\r\n    add: (folder) ->\r\n        super folder, sort: false\r\n\r\n    # when adding a folder\r\n    push: (folder) ->\r\n\r\n        # expanding the first node in case of direct access:\r\n        #   - only root on the stack\r\n        #   - isn't just the first folder (empty path)\r\n        #   - isn't root (on init)\r\n        #   - isn't search\r\n        if (@length is 1) and (@at(0) is @root) and (folder isnt @root) and (folder.get(\"path\") isnt \"\") and (folder.get(\"type\") is \"folder\")\r\n\r\n            path = folder.get(\"path\").split(\"/\")\r\n            path = path.slice(1, path.length)\r\n\r\n            client.get \"folder/tree/\" + folder.id, (err) ->\r\n                if err\r\n                    console.log \"err\", err\r\n                else\r\n                    @add data, sort: false\r\n                    @add folder, sort: false\r\n\r\n\r\n        else\r\n\r\n            if @get folder\r\n\r\n                found = false\r\n                treatment = (model, callback) ->\r\n                    if not found\r\n                        if model.id == folder.id then found = true\r\n                        callback null, [model]\r\n                    else\r\n                        callback null\r\n\r\n                async.concatSeries @models, treatment, (err, folders) =>\r\n                    if err\r\n                        console.log err\r\n                    else\r\n                        @reset folders, sort: false\r\n            else\r\n                @add folder, sort: false\r\n\r\n    setRoot: (root) ->\r\n        @reset()\r\n        @root = root\r\n        @add root\r\n\r\n    popAll: ->\r\n        @setRoot @root\r\n","File = require '../models/file'\n\nmodule.exports = class FileCollection extends Backbone.Collection\n\n    # Model that will be contained inside the collection.\n    model: File\n\n    # sort\n    order: \"incr\"\n    type: \"name\"\n\n    # This is where ajax requests the backend.\n    url: 'files'\n\n\n    comparator: (o1, o2) ->\n\n        if @type is \"name\"\n            n1 = o1.get(\"name\").toLocaleLowerCase()\n            n2 = o2.get(\"name\").toLocaleLowerCase()\n        else if @type is \"lastModification\"\n            n1 = new Date(o1.get(\"lastModification\"))\n            n2 = new Date(o2.get(\"lastModification\"))\n        else\n            n1 = o1.get(@type)\n            n2 = o2.get(@type)\n\n        t1 = o1.get(\"type\")\n        t2 = o2.get(\"type\")\n\n        sort = if @order == \"incr\" then -1 else 1\n\n        if t1 is t2\n            if n1 > n2 then return -sort\n            if n1 < n2 then return sort\n            return 0\n        else if t1 is \"file\"\n            return -sort\n        else\n            return sort","# Make ajax request more easy to do.\r\nexports.request = (type, url, data, callback) ->\r\n    $.ajax\r\n        type: type\r\n        url: url\r\n        data: if data? then JSON.stringify data else null\r\n        contentType: \"application/json\"\r\n        dataType: \"json\"\r\n        success: (data) ->\r\n            callback null, data if callback?\r\n        error: (data) ->\r\n            if data.status in [200, 201, 204, 304]\r\n                callback null, data if callback?\r\n            else if data? and data.msg? and callback?\r\n                callback new Error data.msg\r\n            else if callback?\r\n                callback new Error \"Server error occured\"\r\n\r\n# Sends a get request with data as body\r\n# Expected callbacks: success and error\r\nexports.get = (url, callbacks) ->\r\n    exports.request \"GET\", url, null, callbacks\r\n\r\n# Sends a post request with data as body\r\n# Expected callbacks: success and error\r\nexports.post = (url, data, callbacks) ->\r\n    exports.request \"POST\", url, data, callbacks\r\n\r\n# Sends a put request with data as body\r\n# Expected callbacks: success and error\r\nexports.put = (url, data, callbacks) ->\r\n    exports.request \"PUT\", url, data, callbacks\r\n\r\n# Sends a delete request with data as body\r\n# Expected callbacks: success and error\r\nexports.del = (url, callbacks) ->\r\n    exports.request \"DELETE\", url, null, callbacks\r\n","File = require '../models/file'\r\n\r\nmodule.exports = class SocketListener extends CozySocketListener\r\n\r\n    models:\r\n        'file'   : File\r\n        'folder' : File\r\n\r\n    events: [\r\n        'file.create'\r\n        'file.update'\r\n        'file.delete'\r\n        'folder.create'\r\n        'folder.update'\r\n        'folder.delete'\r\n    ]\r\n\r\n    isInCurrentFolder: (model) ->\r\n        cwd = app.folderView.model.repository()\r\n        mwd = model.get \"path\"\r\n        mwd is cwd\r\n\r\n    onRemoteCreate: (model) ->\r\n        if @isInCurrentFolder model\r\n            console.info \"remote create\", model\r\n            if not (@collection.get model.get(\"id\"))\r\n                @collection.add model, merge:true\r\n\r\n    onRemoteDelete: (model) ->\r\n        if @isInCurrentFolder model\r\n            console.info \"remote delete\", model\r\n            @collection.remove model\r\n\r\n    onRemoteUpdate: (model, collection) ->\r\n        if @isInCurrentFolder model\r\n            console.info \"remote update\", model\r\n            collection.add model, merge:true\r\n\r\n    process: (event) ->\r\n        {doctype, operation, id} = event\r\n\r\n        # console.info \"received: #{operation}:#{doctype}\"\r\n\r\n        switch operation\r\n            when 'create'\r\n                model = new @models[doctype](id: id, type: doctype)\r\n                model.fetch\r\n                    success: (fetched) =>\r\n                        # set as a folder or a file\r\n                        fetched.set type: doctype\r\n                        @onRemoteCreate fetched\r\n\r\n            when 'update'\r\n                @collections.forEach (collection) =>\r\n                    return unless model = collection.get id\r\n                    model.fetch\r\n                        success: (fetched) =>\r\n                            if fetched.changedAttributes()\r\n                                fetched.set type: doctype\r\n                                @onRemoteUpdate fetched, collection\r\n\r\n            when 'delete'\r\n                @collections.forEach (collection) =>\r\n                    return unless model = collection.get id\r\n                    @onRemoteDelete model, collection\r\n","app = require 'application'\n\n$ ->\n    jQuery.event.props.push 'dataTransfer'\n\n    locale = window.locale or \"en\" # default locale\n    moment.lang locale\n\n    locales = {}\n    try\n        locales = require \"locales/#{locale}\"\n    catch err\n        locales = require \"locales/en\"\n\n    polyglot = new Polyglot()\n\n    # we give polyglot the data\n    polyglot.extend locales\n\n    # handy shortcut\n    window.t = polyglot.t.bind polyglot\n\n    # launch the app\n    app.initialize()\n","(() ->\n    # IIFE to avoid collisions with other variables\n    (->\n        # Make it safe to do console.log() always.\n        console = window.console = window.console or {}\n        method = undefined\n        dummy = ->\n        methods = ('assert,count,debug,dir,dirxml,error,exception,\n                   group,groupCollapsed,groupEnd,info,log,markTimeline,\n                   profile,profileEnd,time,timeEnd,trace,warn').split ','\n\n        console[method] = console[method] or dummy while method = methods.pop()\n    )()\n)()\n","module.exports = class BaseView extends Backbone.View\n\n    template: ->\n\n    initialize: ->\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    render: ->\n        @beforeRender()\n        @$el.html @template @getRenderData()\n        @afterRender()\n        @\n\n    beforeRender: ->\n\n    afterRender: ->\n\n    destroy: ->\n        @undelegateEvents()\n        @$el.removeData().unbind()\n        @remove()\n        Backbone.View::remove.call @\n","module.exports =\n\nremoveTralingSlash: (path) ->\n    if path.slice(-1) is '/'\n        return path.slice(0, -1)\n    return path\n\ndirName: (path) ->\n    return path.split('/')[...-1].join('/')\n\nnestedDirs: (fileList) ->\n    levels = {}\n\n    # make an object with keys paths, values nest level\n    for file in fileList\n        relPath = file.relativePath || file.mozRelativePath || file.webkitRelativePath\n        parent = relPath.slice(0, relPath.lastIndexOf(file.name))\n        nestLevel = parent.split('/').length - 1\n        levels[parent] = nestLevel\n\n    # put them in a list, sorted by nest level\n    dirs = (path: path, nestLevel: levels[path] for path in Object.keys(levels))\n    dirs.sort (a, b) ->\n        return a.nestLevel - b.nestLevel\n\n    return (dir.path for dir in dirs)\n","BaseView = require 'lib/base_view'\n\n# View that display a collection of subitems\n# used to DRY views\n# Usage : new ViewCollection(collection:collection)\n# Automatically populate itself by creating a itemView for each item\n# in its collection\n\n# can use a template that will be displayed alongside the itemViews\n\n# itemView       : the Backbone.View to be used for items\n# itemViewOptions : the options that will be passed to itemViews\n# collectionEl : the DOM element's selector where the itemViews will\n#                be displayed. Automatically falls back to el if null\n\nmodule.exports = class ViewCollection extends BaseView\n\n    collectionEl: null\n    template: -> ''\n    itemview: null\n    views: {}\n    itemViewOptions: ->\n\n    # add 'empty' class to view when there is no subview\n    onChange: ->\n        @$el.toggleClass 'empty', _.size(@views) is 0\n\n    # can be overriden if we want to place the subviews somewhere else\n    appendView: (view) ->\n        @$collectionEl.append view.el\n\n    # bind listeners to the collection\n    initialize: ->\n        super\n        @views = {}\n        @listenTo @collection, \"reset\",   @onReset\n        @listenTo @collection, \"add\",     @addItem\n        @listenTo @collection, \"remove\",  @removeItem\n\n        @collectionEl = el if not @collectionEl?\n\n    # if we have views before a render call, we detach them\n    render: ->\n        view.$el.detach() for id, view of @views\n        super\n\n    # after render, we reattach the views\n    afterRender: ->\n        @$collectionEl = $ @collectionEl unless @$collectionEl?\n        @appendView view.$el for id, view of @views\n        @onReset @collection\n        @onChange @views\n\n    # destroy all sub views before remove\n    remove: ->\n        @onReset []\n        super\n\n    # event listener for reset\n    onReset: (newcollection) ->\n        view.remove() for id, view of @views\n        newcollection.forEach @addItem\n\n    # event listeners for add\n    addItem: (model) =>\n        options = _.extend {}, model: model, @itemViewOptions(model)\n        view = new @itemview options\n        @views[model.cid] = view.render()\n        @appendView view\n        @onChange @views\n\n    # event listeners for remove\n    removeItem: (model) =>\n        @views[model.cid].remove()\n        delete @views[model.cid]\n\n        @onChange @views\n","module.exports =\r\n\r\n    # folder view\r\n    \"modal error\"               : \"Error\"\r\n    \"modal ok\"                  : \"OK\"\r\n    \"modal error get files\"     : \"Error getting files from server\"\r\n    \"modal error get folders\"   : \"Error getting folders from server\"\r\n    \"modal error get content\"   : \"An error occurred while retrieving content of folder \\\"%{folderName}\\\" from the server\"\r\n    \"modal error empty name\"    : \"The name can't be empty\"\r\n    \"modal error file invalid\"  : \"doesn't seem to be a valid file\"\r\n\r\n    \"root folder name\"          : \"root\"\r\n\r\n    # breadcrumbs\r\n    \"breadcrumbs search title\"  : \"Search\"\r\n\r\n    # files view\r\n    \"modal error file exists\"   : \"Sorry, a file or folder having this name already exists\"\r\n    \"modal error file upload\"   : \"File could not be sent to server\"\r\n    \"modal error folder create\" : \"Folder could not be created\"\r\n    \"modal error folder exists\" : \"Sorry, a file or folder having this name already exists\"\r\n\r\n    # file view\r\n    \"modal are you sure\"        : \"Are you sure ?\"\r\n    \"modal delete msg\"          : \"Deleting cannot be undone\"\r\n    \"modal delete ok\"           : \"Delete\"\r\n    \"modal cancel\"              : \"cancel\"\r\n    \"modal delete error\"        : \"cancel\"\r\n\r\n    \"modal error in use\"        : \"Name already in use\"\r\n    \"modal error rename\"        : \"Name could not be changed\"\r\n    \"modal error empty name\"    : \"Name can't be empty\"\r\n    \"modal error no data\"       : \"No name and no folder to upload\"\r\n\r\n    \"tag\"                       : \"tag\"\r\n\r\n    # file_edit template\r\n    \"file edit save\"            : \"Save\"\r\n    \"file edit cancel\"          : \"cancel\"\r\n    #tooltip\r\n    \"tooltip delete\"          : \"Delete\"\r\n    \"tooltip edit\"            : \"Rename\"\r\n    \"tooltip download\"        : \"Download\"\r\n    \"tooltip share\"            : \"Share\"\r\n\r\n    # folder template\r\n    \"upload caption\"            : \"Upload a new file\"\r\n    \"upload msg\"                : \"Drag files or click here to choose files.\"\r\n    \"upload msg selected\"       : \"\"\"\r\n        You have selected %{smart_count} file, click Add to upload it. ||||\r\n        You have selected %{smart_count} files, click Add to upload them.\r\n    \"\"\"\r\n    \"upload close\"              : \"Close\"\r\n    \"upload send\"               : \"Add\"\r\n    \"upload button\"             : \"Upload a file\"\r\n    \"upload success\"            : \"Upload successfuly completed!\"\r\n    \"upload end button\"         : \"Close\"\r\n    \"total progress\"            : \"Total progress\"\r\n\r\n    \"new folder caption\"        : \"Add a new folder\"\r\n    \"new folder msg\"            : \"Create a folder named:\"\r\n    \"new folder close\"          : \"Close\"\r\n    \"new folder send\"           : \"Create Folder\"\r\n    \"new folder button\"         : \"Create a new folder\"\r\n\r\n    \"drop message\"              : \"Drop your files here to automatically add them\"\r\n\r\n    \"upload folder msg\"         : \"Upload a folder\"\r\n    \"upload folder separator\"   : \"or\"\r\n\r\n    \"folder\"                    : \"Folder\"\r\n    \"image\"                     : \"Image\"\r\n    \"document\"                  : \"Document\"\r\n    \"music\"                     : \"Music\"\r\n    \"video\"                     : \"Video\"\r\n\r\n    \"yes\"                       : \"Yes\"\r\n    \"no\"                        : \"No\"\r\n\r\n    \"name\"                      : \"Name\"\r\n    \"type\"                      : \"Type\"\r\n    \"size\"                      : \"Size\"\r\n    \"date\"                      : \"Last update\"\r\n    \"download\"                  : \"Download\"\r\n    \"MB\"                        : \"MB\"\r\n    \"KB\"                        : \"KB\"\r\n    \"B\"                         : \"B\"\r\n    \"files\"                     : \"files\"\r\n    \"element\"                   : \"%{smart_count} element |||| %{smart_count} elements\"\r\n    \"no file in folder\"         : \"This folder is empty.\"\r\n\r\n    \"enable notifications\": \"Enable notifications\"\r\n    \"disable notifications\": \"Disable notifications\"\r\n    \"notifications enabled\": \"Notifications enabled\"\r\n    \"notifications disabled\": \"Notifications disabled\"\r\n\r\n    \"open folder\": \"Open the folder\"\r\n    \"download file\": \"View the file\"\r\n\r\n    # clearance modal\r\n    \"also have access\"                : \"These people also have access, because they have access to a parent folder\"\r\n    \"cancel\"                          : \"Cancel\"\r\n    \"copy paste link\"                 : \"To give access to your contact send him/her the link below:\"\r\n    \"details\"                         : \"Details\"\r\n    \"inherited from\"                  : \"inherited from\"\r\n    \"modal question folder shareable\" : \"Select share mode for this folder\"\r\n    \"modal shared folder custom msg\"  : \"Enter email and press enter\"\r\n    \"modal shared folder link msg\"    : \"Send this link to let people access this folder\"\r\n    \"modal send mails\"                : \"Send a notification\"\r\n    \"modal question file shareable\"   : \"Select share mode for this file\"\r\n    \"modal shared file custom msg\"    : \"Enter email and press enter\"\r\n    \"modal shared file link msg\"      : \"Send this link to let people access this file\"\r\n    \"only you can see\"                : \"Only you and the people listed below can access this resource\"\r\n    \"public\"                          : \"Public\"\r\n    \"private\"                         : \"Private\"\r\n    \"shared\"                          : \"Shared\"\r\n    \"save\"                            : \"Save\"\r\n    \"see link\"                        : \"See link\"\r\n    \"send mails question\"             : \"Send a notification email to:\"\r\n    \"sharing\"                         : \"Sharing\"\r\n    \"revoke\"                          : \"Revoke\"\r\n    \"forced public\"                   : \"This is public because one of the parent folder is public:\"\r\n    \"confirm\"                         : \"Confirm\"\r\n    \"share forgot add\"                : \"\"\"\r\n        Looks like you forgot to click the Add button\r\n    \"\"\"\r\n    \"share confirm save\"              : \"\"\"\r\n        The changes you made to the permissions will not be saved. Is that what you want ?\r\n    \"\"\"\r\n    \"yes forgot\"                      : \"Back\"\r\n    \"no forgot\"                       : \"It's ok\"\r\n    \"perm\"                            : \"can \"\r\n    \"perm r file\"                     : \"download this file\"\r\n    \"perm r folder\"                   : \"browse this folder\"\r\n    \"perm rw folder\"                  : \"browse and upload files\"\r\n    \"change notif\"                    : \"\"\"\r\n        Check this box to be notified when a contact\r\n        add a file to this folder.\"\"\"\r\n\r\n    'move': 'Move'\r\n    'tooltip move': 'Move element to another folder.'\r\n    \"moving...\": 'Moving...'\r\n    'move element to': 'Move element to'\r\n    'error occured canceling move': 'An error occured while canceling move.'\r\n    'error occured while moving element': 'An error occured while moving element'\r\n    'file successfully moved to': 'File successfully move to'\r\n\r\n","module.exports =\r\n\r\n    # folder view\r\n    \"modal error\"               : \"Erreur\"\r\n    \"modal ok\"                  : \"OK\"\r\n    \"modal error get files\"     : \"Une erreur s'est produite en récupérant les fichiers du serveur\"\r\n    \"modal error get folders\"   : \"Une erreur s'est produite en récupérant les dossiers du serveur\"\r\n    \"modal error get content\"   : \"Une erreur s'est produite en récupérant le contenu du dossier \\\"%{folderName}\\\" sur le serveur\"\r\n    \"modal error empty name\"    : \"Le nom ne peut pas être vide\"\r\n    \"modal error file invalid\"  : \"Le fichier ne parait pas être valide\"\r\n\r\n    \"root folder name\"          : \"racine\"\r\n\r\n    # breadcrumbs\r\n    \"breadcrumbs search title\"  : \"Recherche\"\r\n\r\n    # files view\r\n    \"modal error file exists\"   : \"Désolé, un fichier ou un dossier a déjà le même nom\"\r\n    \"modal error file upload\"   : \"Le fichier n'a pas pu être envoyé au serveur\"\r\n    \"modal error folder create\" : \"Le dossier n'a pas pu être créé\"\r\n    \"modal error folder exists\" : \"Désolé, un fichier ou un dossier a déjà le même nom\"\r\n\r\n    # file view\r\n    \"modal are you sure\"        : \"Etes-vous sûr ?\"\r\n    \"modal delete msg\"          : \"La suppression ne pourra pas être annulée\"\r\n    \"modal delete ok\"           : \"Supprimer\"\r\n    \"modal cancel\"              : \"Annuler\"\r\n    \"modal delete error\"        : \"Annuler\"\r\n\r\n    \"modal error in use\"        : \"Ce nom est déjà utilisé\"\r\n    \"modal error rename\"        : \"Le nom n'a pas pu être modifié\"\r\n    \"modal error empty name\"    : \"Le nom du dossier ne peut pas être vide\"\r\n\r\n    \"tag\"                       : \"étiquette\"\r\n\r\n    #tooltip\r\n    \"tooltip delete\"          : \"Supprimer\"\r\n    \"tooltip edit\"            : \"Renommer\"\r\n    \"tooltip download\"        : \"Télécharger\"\r\n    \"tooltip share\"            : \"Partager\"\r\n\r\n    # file_edit template\r\n    \"file edit save\"            : \"Sauvegarder\"\r\n    \"file edit cancel\"          : \"Annuler\"\r\n\r\n    # folder template\r\n    \"upload caption\"            : \"Ajouter des fichiers\"\r\n    \"upload msg\"                : \"Glissez des fichiers ou cliquez ici pour sélectionner des fichiers à mettre en ligne.\"\r\n    \"upload msg selected\"       : \"\"\"\r\n        Vous avez sélectionné %{smart_count} fichier, cliquez sur \"Ajouter\" pour les mettre en ligne. ||||\r\n        Vous avez sélectionné %{smart_count} fichiers, cliquez sur \"Ajouter\" pour les mettre en ligne.\r\n    \"\"\"\r\n    \"upload close\"              : \"Annuler\"\r\n    \"upload send\"               : \"Ajouter\"\r\n    \"upload button\"             : \"Ajouter un fichier\"\r\n    \"upload success\"            : \"Ajouté avec succès !\"\r\n    \"upload end button\"         : \"Fermer\"\r\n    \"total progress\"            : \"Progression totale\"\r\n\r\n    \"new folder caption\"        : \"Créer un nouveau dossier\"\r\n    \"new folder msg\"            : \"Entrer le nom du dossier :\"\r\n    \"new folder close\"          : \"Annuler\"\r\n    \"new folder send\"           : \"Créer\"\r\n    \"new folder button\"         : \"Créer un nouveau dossier\"\r\n\r\n    \"drop message\"              : \"Lâchez ici vos fichiers pour les ajouter\"\r\n\r\n    \"upload folder msg\"         : \"Mettre en ligne un dossier\"\r\n    \"upload folder separator\"   : \"ou\"\r\n\r\n    \"folder\"                    : \"Dossier\"\r\n    \"image\"                     : \"Image\"\r\n    \"document\"                  : \"Document\"\r\n    \"music\"                     : \"Musique\"\r\n    \"video\"                     : \"Vidéo\"\r\n\r\n    \"yes\"                       : \"Oui\"\r\n    \"no\"                        : \"Non\"\r\n\r\n    \"name\"                      : \"Nom\"\r\n    \"type\"                      : \"Type\"\r\n    \"size\"                      : \"Taille\"\r\n    \"date\"                      : \"Dernière modification\"\r\n    \"download\"                  : \"Télécharger\"\r\n    \"MB\"                        : \"Mo\"\r\n    \"KB\"                        : \"Ko\"\r\n    \"B\"                         : \"o\"\r\n    \"files\"                     : \"fichiers\"\r\n    \"element\"                   : \"%{smart_count} élément |||| %{smart_count} éléments\"\r\n    \"no file in folder\"         : \"Ce dossier est vide.\"\r\n\r\n    \"enable notifications\": \"Activer les notifications\"\r\n    \"disable notifications\": \"Désactiver les notifications\"\r\n    \"notifications enabled\": \"Notifications activées\"\r\n    \"notifications disabled\": \"Notifications désactivées\"\r\n\r\n    \"open folder\": \"Ouvrir le dossier\"\r\n    \"download file\": \"Consulter le fichier\"\r\n\r\n     # clearance modal\r\n    \"also have access\"                : \"Ces personnes ont égalment accès, car ils ont accès à un dossier parent\"\r\n    \"cancel\"                          : \"Annuler\"\r\n    \"copy paste link\"                 : \"Pour donner accès à votre contact envoyez lui ce lien : \"\r\n    \"details\"                         : \"Details\"\r\n    \"inherited from\"                  : \"hérité de\"\r\n    \"modal question folder shareable\" : \"Choisissez le mode de partage pour ce dossier\"\r\n    \"modal shared folder custom msg\"  : \"Entrez un email et appuyez sur enter\"\r\n    \"modal shared folder link msg\"    : \"Envoyez ce lien pour qu'ils puissent accéder à ce dossier\"\r\n    \"modal question file shareable\"   : \"Choisissez le mode de partage pour ce fichier\"\r\n    \"modal shared file custom msg\"    : \"Entrez un email et appuyez sur enter\"\r\n    \"modal shared file link msg\"      : \"Envoyez ce lien pour qu'ils puissent accéder à ce dossier\"\r\n    \"only you can see\"                : \"Seul vous et les personnes ci-dessous peuvent accéder à cette ressource.\"\r\n    \"public\"                          : \"Public\"\r\n    \"private\"                         : \"Privé\"\r\n    \"shared\"                          : \"Partagé\"\r\n    \"save\"                            : \"Sauvegarder\"\r\n    \"see link\"                        : \"Voir le lien\"\r\n    \"sharing\"                         : \"Partage\"\r\n    \"revoke\"                          : \"Révoquer la permission\"\r\n    \"send mails question\"             : \"Envoyer un email de notification à : \"\r\n    \"modal send mails\"                : \"Envoyer une notification\"\r\n    \"forced public\"                   : \"Ce dossier est public car un parent est public : \"\r\n    \"confirm\"                         : \"Confirmer\"\r\n    \"share forgot add\"                : \"\"\"\r\n        Il semble que vous ayez oublié d'appuyer sur le boutton Add\r\n    \"\"\"\r\n    \"share confirm save\"              : \"\"\"\r\n        Les changements effectués sur les permissions ne seront pas sauvegardés. Etes vous sur ?\r\n    \"\"\"\r\n    \"yes forgot\"                      : \"Retour\"\r\n    \"no forgot\"                       : \"Ok\"\r\n    \"perm\"                            : \"peut \"\r\n    \"perm r file\"                     : \"consulter ce fichier\"\r\n    \"perm r folder\"                   : \"parcourir ce dossier\"\r\n    \"perm rw folder\"                  : \"parcourir ce dossier et ajouter des fichiers\"\r\n    \"change notif\"                    : \"\"\"\r\n        Cocher cette case pour recevoir une notification cozy quand un contact\r\n        ajoute un fichier à ce dossier.\"\"\"\r\n\r\n    \"move\": \"Déplacer\"\r\n    'tooltip move': \"Déplacer l'élément dans un autre dossier.\"\r\n    \"moving...\": \"Déplacement en cours...\"\r\n    \"move element to\": \"Déplacer l'élément vers \"\r\n    \"error occured canceling move\": \"Une erreur est survenue en annulant le déplacement.\"\r\n    \"error occured while moving element\": \"Une erreur est survenue en déplaçant l'élément.\"\r\n    \"file successfully moved to\": 'Fichier déplacé avec succès vers '\r\n\r\n","module.exports =\n\n    # folder view\n    \"modal error\"               : \"Eroare\"\n    \"modal ok\"                  : \"OK\"\n    \"modal error get files\"     : \"A apărut o eroare în transferul de fișiere de la server\"\n    \"modal error get folders\"   : \"A apărut o eroare în transferul de directoare de la server\"\n    \"modal error get content\"   : \"An error occurred while retrieving content of folder \\\"%{folderName}\\\" from the server\"\n    \"modal error empty name\"    : \"Numele nu poate fi vid\"\n    \"modal error file invalid\"  : \"Fișierul nu pare a fi valid\"\n\n    \"root folder name\"          : \"root\"\n\n    # breadcrumbs\n    \"breadcrumbs search title\"  : \"Căutare\"\n\n    # files view\n    \"modal error file exists\"   : \"Ne pare rău, există deja un document cu acest nume\"\n    \"modal error file upload\"   : \"Fișierul nu a putut fi trimis server-ului\"\n    \"modal error folder create\" : \"Directorul nu a putut fi creat\"\n    \"modal error folder exists\" : \"Ne pare rău, există deja un director cu acest nume\"\n\n    # file view\n    \"modal are you sure\"        : \"Sunteți sigur(ă)?\"\n    \"modal delete msg\"          : \"Ștergerea nu poate fi anulată\"\n    \"modal delete ok\"           : \"Ștergere\"\n    \"modal cancel\"              : \"Anulare\"\n    \"modal delete error\"        : \"Anulare\"\n\n    \"modal error in use\"        : \"Nume deja folosit\"\n    \"modal error rename\"        : \"Numele nu a putut fi schimbat\"\n    \"modal error empty name\"    : \"Numele nu poate fi vid\"\n    \"modal error no data\"       : \"Nu există date de încărcat\"\n\n    \"tag\"                       : \"etichetă\"\n\n    # file_edit template\n    \"file edit save\"            : \"Salvare\"\n    \"file edit cancel\"          : \"Anulare\"\n    #tooltip\n    \"tooltip delete\"          : \"Ștergere\"\n    \"tooltip edit\"            : \"Redenumire\"\n    \"tooltip download\"        : \"Descărcare\"\n    \"tooltip share\"            : \"Partajare\"\n\n    # folder template\n    \"upload caption\"            : \"Încărcare fișier\"\n    \"upload msg\"                : \"Alegeți fișierul de încărcat:\"\n    \"upload close\"              : \"Anulare\"\n    \"upload send\"               : \"Încărcare\"\n\n    \"upload button\"             : \"Încărcați un fișier aici\"\n\n    \"new folder caption\"        : \"Adăugați un nou director\"\n    \"new folder msg\"            : \"Creați un director cu numele:\"\n    \"new folder close\"          : \"Anulare\"\n    \"new folder send\"           : \"OK\"\n    \"new folder button\"         : \"Creare director\"\n\n    \"upload folder msg\"         : \"Încărcați un director\"\n\n    \"folder\"                    : \"Director\"\n    \"image\"                     : \"Imagine\"\n    \"document\"                  : \"Document\"\n    \"music\"                     : \"Muzică\"\n    \"video\"                     : \"Video\"\n\n    \"yes\"                       : \"Da\"\n    \"no\"                        : \"Nu\"\n\n    \"name\"                      : \"Nume\"\n    \"type\"                      : \"Tip\"\n    \"size\"                      : \"Dimensiune\"\n    \"date\"                      : \"Ultima modificare\"\n    \"download\"                  : \"Descărcare\"\n    \"MB\"                        : \"Mo\"\n    \"KB\"                        : \"Ko\"\n    \"B\"                         : \"o\"\n\n    \"enable notifications\": \"Activare notificări\"\n    \"disable notifications\": \"Dezactivare notificări\"\n\n    \"open folder\": \"Accesare director\"\n    \"download file\": \"Descărcare fișier\"\n\n    # clearance modal\n    \"also have access\"                : \"Aceste persoane au acces, deoarece au acces la un director părinte\"\n    \"cancel\"                          : \"Anulare\"\n    \"copy paste link\"                 : \"Pentru a oferi acces la dvs. de contact trimite el/ea pe link-ul de mai jos: \"\n    \"details\"                         : \"Detalii\"\n    \"inherited from\"                  : \"moștenit de la\"\n    \"modal question folder shareable\" : \"Alegeți modul de partajare pentru acest director\"\n    \"modal shared folder custom msg\"  : \"Introduceți adresa de e-mail și apăsați Enter\"\n    \"modal shared folder link msg\"    : \"Trimiteți această adresă persoanelor pentru a putea accesa directorul\"\n    \"modal send mails\"                : \"Trimiteți o notificare\"\n    \"modal question file shareable\"   : \"Alegeți modul de partajare pentru acest document\"\n    \"modal shared file custom msg\"    : \"Introduceți adresa de e-mail și apăsați Enter\"\n    \"modal shared file link msg\"      : \"Trimiteți această adresă persoanelor pentru a putea accesa directorul\"\n    \"only you can see\"                : \"Numai Dvs. și persoanele de mai jos au acces\"\n    \"public\"                          : \"Public\"\n    \"private\"                         : \"Privat\"\n    \"shared\"                          : \"Partajat\"\n    \"save\"                            : \"Salvare\"\n    \"see link\"                        : \"Vedeți adresă\"\n    \"send mails question\"             : \"Trimiteți e-mail de notificare la: \"\n    \"sharing\"                         : \"Partajare\"\n    \"revoke\"                          : \"Revocare permisiune\"\n    \"forced public\"                   : \"Acesta este public deoarece un director părinte este public: \"\n    \"perm\"                            : \"poate \"\n    \"perm r file\"                     : \"descărca acest fișier\"\n    \"perm r folder\"                   : \"parcurge acest dosar \"\n    \"perm rw folder\"                  : \"parcurge acest dosar și încărca fișiere\"\n    \"change notif\"                    : \"\"\"Bifați această casetă pentru a fi notificat atunci când o persoană de contact\n         adăuga un fișier în acest dosar.\n    \"\"\"\n","client = require \"../helpers/client\"\r\n\r\nmodule.exports = class File extends Backbone.Model\r\n\r\n    sync: (method, model, options)->\r\n\r\n        # this is a new model, let's upload it as a multipart\r\n        if model.file\r\n            formdata = new FormData()\r\n            formdata.append 'name', model.get 'name'\r\n            formdata.append 'path', model.get 'path'\r\n            formdata.append 'file', model.file\r\n            formdata.append 'lastModification', model.get 'lastModification'\r\n\r\n            # trigger upload progress on the model\r\n            progress = (e) -> model.trigger('progress', e)\r\n\r\n            _.extend options,\r\n                contentType: false\r\n                data: formdata\r\n                # patch Model.sync so it could trigger progress event\r\n                xhr: ->\r\n                    xhr = $.ajaxSettings.xhr()\r\n                    if xhr instanceof window.XMLHttpRequest\r\n                        xhr.addEventListener 'progress', progress, false\r\n                    if xhr.upload\r\n                        xhr.upload.addEventListener 'progress', progress, false\r\n                    xhr\r\n\r\n        @isUploaded = true\r\n        Backbone.sync.apply @, arguments\r\n\r\n    urlRoot: ->\r\n        if @get(\"type\") is \"folder\"\r\n            'folders/'\r\n        else if @get(\"type\") is \"search\"\r\n            'search/'\r\n        else\r\n            'files/'\r\n\r\n    validate: ->\r\n        errors = []\r\n        if not @get(\"name\") or @get(\"name\") is \"\"\r\n            errors.push\r\n                field: 'name'\r\n                value: \"A name must be set.\"\r\n\r\n        if errors.length > 0\r\n            return errors\r\n        return\r\n\r\n    prepareCallbacks: (callbacks, presuccess, preerror) ->\r\n        {success, error} = callbacks or {}\r\n        presuccess ?= (data) => @set data.app\r\n        @trigger 'request', @, null, callbacks\r\n        callbacks.success = (data) =>\r\n            presuccess data if presuccess\r\n            @trigger 'sync', @, null, callbacks\r\n            success data if success\r\n        callbacks.error = (jqXHR) =>\r\n            preerror jqXHR if preerror\r\n            @trigger 'error', @, jqXHR, {}\r\n            error jqXHR if error\r\n\r\n    repository: ->\r\n        if @get('id') is \"root\"\r\n            return \"\"\r\n        else\r\n            return \"#{@get(\"path\")}/#{@get(\"name\")}\"\r\n\r\n    endpoint: ->\r\n        if @get(\"type\") is \"folder\"\r\n            \"foldershare\"\r\n        else\r\n            \"fileshare\"\r\n\r\n    # FOLDER\r\n    findContent: (callbacks) ->\r\n        @prepareCallbacks callbacks\r\n        client.post \"#{@urlRoot()}content\", id: @id, callbacks\r\n\r\n    # Dead Code?\r\n    findFiles: (callbacks) ->\r\n        @prepareCallbacks callbacks\r\n        client.post \"#{@urlRoot()}files\", id: @id, callbacks\r\n\r\n    # Dead Code?\r\n    findFolders: (callbacks) ->\r\n        @prepareCallbacks callbacks\r\n        client.post \"#{@urlRoot()}folders\", id: @id, callbacks\r\n\r\n    getPublicURL: (key) ->\r\n        \"#{window.location.origin}/public/files/#{@urlRoot()}#{@id}\"\r\n\r\n    # Dead Code?\r\n    getZip: (file, callbacks) ->\r\n        @prepareCallbacks callbacks\r\n        client.post \"#{@urlRoot()}#{@id}/zip/#{@name}\", callbacks\r\n\r\n    # FILE\r\n    # Dead Code?\r\n    getAttachment: (file, callbacks) ->\r\n        @prepareCallbacks callbacks\r\n        client.post \"#{@urlRoot()}#{@id}/getAttachment/#{@name}\", callbacks\r\n","app = require 'application'\n\nFolderView = require './views/folder'\nFile = require './models/file'\n\n\nmodule.exports = class Router extends Backbone.Router\n\n    routes:\n        '': 'main'\n        'folders/:folderid' : 'folder'\n        'search/:query' : 'search'\n\n    main: ->\n        app.folderView.changeActiveFolder app.root\n\n    folder: (id) ->\n        folder = new File id: id, type: \"folder\"\n        folder.fetch\n            success: (data) =>\n                folder.set data.attributes\n                app.folderView.changeActiveFolder folder\n\n    search: (query) ->\n        folder = new File id:query, type:\"search\", name: \"Search '#{query}'\"\n        app.folderView.changeActiveFolder folder\n","BaseView = require '../lib/base_view'\n\nmodule.exports = class BreadcrumbsView extends BaseView\n\n    itemview: require './templates/breadcrumbs_element'\n    tagName: \"ul\"\n\n    constructor: (@collection) ->\n        super()\n\n    initialize: ->\n        @listenTo @collection, \"reset\",   @render\n        @listenTo @collection, \"add\",     @render\n        @listenTo @collection, \"remove\",  @render\n\n    render: ->\n        @$el.html \"\"\n        for folder in @collection.models\n            @$el.append @itemview(model: folder)\n        @\n","BaseView = require '../lib/base_view'\r\nModalView = require \"./modal\"\r\nModalShareView = require \"./modal_share\"\r\nTagsView = require \"./tags\"\r\n\r\nclient = require \"../helpers/client\"\r\n\r\nmodule.exports = class FileView extends BaseView\r\n\r\n    className      : 'folder-row'\r\n    tagName        : 'tr'\r\n    templateNormal : require './templates/file'\r\n    templateEdit   : require './templates/file_edit'\r\n    templateSearch : require './templates/file_search'\r\n\r\n    events:\r\n        'click a.file-delete'      : 'onDeleteClicked'\r\n        'click a.file-share'       : 'onShare'\r\n        'click a.file-edit'        : 'onEditClicked'\r\n        'click a.file-edit-save'   : 'onSaveClicked'\r\n        'click a.file-edit-cancel' : 'render'\r\n        'click a.file-move'        : 'onMoveClicked'\r\n        'keydown input'            : 'onKeyPress'\r\n\r\n    template: (args) ->\r\n        if app.folderView.model.get(\"type\") is \"search\"\r\n            @templateSearch args\r\n        else\r\n            @templateNormal args\r\n\r\n    initialize: ->\r\n        @listenTo @model, 'change', @render\r\n\r\n    onDeleteClicked: ->\r\n        new ModalView t(\"modal are you sure\"), t(\"modal delete msg\"), t(\"modal delete ok\"), t(\"modal cancel\"), (confirm) =>\r\n            if confirm\r\n                @model.destroy\r\n                    error: ->\r\n                        ModalView.error t(\"modal delete error\")\r\n\r\n    onEditClicked: ->\r\n        width = @$(\".caption\").width() + 10\r\n        model = @model.toJSON()\r\n        model.class = 'folder' unless model.class?\r\n        @$el.html @templateEdit(model: model)\r\n        @tags = new TagsView\r\n            el: @$('.tags')\r\n            model: @model\r\n        @tags.render()\r\n        @$(\".file-edit-name\").width(width)\r\n        @$(\".file-edit-name\").focus()\r\n\r\n\r\n        # we only want to select the part before the file extension\r\n        lastIndexOfDot = model.name.lastIndexOf '.'\r\n        lastIndexOfDot = model.name.length if lastIndexOfDot is -1\r\n        input = @$(\".file-edit-name\")[0]\r\n        if typeof input.selectionStart isnt \"undefined\"\r\n            input.selectionStart = 0\r\n            input.selectionEnd = lastIndexOfDot\r\n        else if document.selection && document.selection.createRange\r\n            # IE Branch...\r\n            input.select()\r\n            range = document.selection.createRange()\r\n            range.collapse true\r\n            range.moveEnd \"character\", lastIndexOfDot\r\n            range.moveStart \"character\", 0\r\n            range.select()\r\n\r\n    onShare: -> new ModalShareView model: @model\r\n\r\n    onSaveClicked: ->\r\n        name = @$('.file-edit-name').val()\r\n\r\n        if name and name isnt \"\"\r\n\r\n            @model.save name: name,\r\n                wait: true\r\n                success: (data) =>\r\n                    @render()\r\n                error: (model, err) =>\r\n                    if err.status is 400\r\n                        ModalView.error t(\"modal error in use\")\r\n                    else\r\n                        ModalView.error t(\"modal error rename\")\r\n        else\r\n            ModalView.error t(\"modal error empty name\")\r\n\r\n\r\n    # Display Move widget and handle move operation if user confirms.\r\n    onMoveClicked: =>\r\n        formTemplate = \"\"\"\r\n            <div class=\"move-widget\">\r\n            <span> #{t 'move element to'}: </span>\r\n            <select class=\"move-select\"></select>\r\n            <button class=\"button btn move-btn\">\r\n                #{t 'move'}\r\n            </button>\r\n            <button class=\"btn btn-link cancel-move-btn\">\r\n                #{t 'cancel'}\r\n            </button>\r\n            </div>\r\n        \"\"\"\r\n\r\n        errorTemplate = \"\"\"\r\n            <div>\r\n                <span class=\"error\">\r\n                #{'error occured while moving element'}: #{@model.get 'name'}.\r\n                #</span>\r\n            </div>\r\n        \"\"\"\r\n\r\n        movedTemplate = (path) ->\r\n            \"\"\"\r\n            <div id=\"moved-infos\">\r\n            <span>#{ t 'file successfully moved to'}: /#{path}.</span>\r\n            <button class=\"btn btn-link cancel-move-btn\">\r\n                #{t 'cancel'}\r\n            </button>\r\n            </div>\r\n        \"\"\"\r\n\r\n        optionTemplate =  (path) -> \"\"\"\r\n            <option value=\"#{path}\">#{path}</option>\r\n        \"\"\"\r\n\r\n        firstCell = @$el.find('td:first-child')\r\n\r\n        client.get 'folders/list', (err, paths) =>\r\n            if err\r\n                alert err\r\n            else\r\n                parentPath = @model.get('path')\r\n                fullPath =  @model.get('path') + \"/\" + @model.get('name')\r\n                type = @model.get 'type'\r\n\r\n                # Add root folder to list.\r\n                paths.push '/' if parentPath isnt  \"\"\r\n\r\n\r\n                # Fill folder combobox with folder list.\r\n                moveForm = $ formTemplate\r\n                for path in paths\r\n                    if path isnt parentPath \\\r\n                       and not(type is 'folder' and path.indexOf(fullPath) is 0)\r\n                        moveForm.find('select').append optionTemplate path\r\n\r\n                # Cancel move action on cancel clicked.\r\n                cancelButton =  moveForm.find(\".cancel-move-btn\")\r\n                cancelButton.click ->\r\n                    moveForm.remove()\r\n\r\n                # Perform move operation on move clicked.\r\n                moveButton = moveForm.find(\".move-btn\")\r\n                moveButton.click =>\r\n\r\n                    # Show loading\r\n                    moveButton.html t \"moving...\"\r\n\r\n                    # Get path and url information.\r\n                    path = $(\".move-select\").val().substring 1\r\n                    id = @model.get 'id'\r\n                    previousPath = @model.get 'path'\r\n\r\n                    # Stop render sync.\r\n                    @stopListening @model\r\n                    @model.collection.socketListener.pause @model, null,\r\n                        ignoreMySocketNotification: true\r\n\r\n                    showMoveResult = =>\r\n                        moveForm.fadeOut()\r\n                        moveForm.remove()\r\n                        movedInfos = $ movedTemplate path\r\n                        firstCell.append movedInfos\r\n                        cancelButton =  movedInfos.find(\".cancel-move-btn\")\r\n                        movedInfos.click =>\r\n                            data = path: previousPath\r\n                            client.put \"#{type}s/#{id}\", data, (err) =>\r\n                                if err\r\n                                    ModalView.error t 'error occured canceling move'\r\n                                else\r\n                                    movedInfos.fadeOut()\r\n\r\n                    # Can't use Backbone model due to a weird sync\r\n                    # I can't figure out what is causing view to re-render.\r\n                    client.put \"#{type}s/#{id}\", path: path, (err) =>\r\n                        if err\r\n                            firstCell.append errorTemplate\r\n                        else\r\n                            showMoveResult()\r\n\r\n                        # Put back synchronization.\r\n                        @model.collection.socketListener.resume @model, null,\r\n                            ignoreMySocketNotification: true\r\n                        @listenTo @model, 'change', @render\r\n\r\n                @$el.find('td:first-child').append moveForm\r\n\r\n\r\n\r\n    onKeyPress: (e) =>\r\n        if e.keyCode is 13\r\n            @onSaveClicked()\r\n        else if e.keyCode is 27\r\n            @render()\r\n\r\n    afterRender: ->\r\n        @tags = new TagsView\r\n            el: @$('.tags')\r\n            model: @model\r\n        @tags.render()\r\n","BaseView = require '../lib/base_view'\nViewCollection = require '../lib/view_collection'\n\nFileView = require './file'\nFileCollection = require '../collections/files'\nProgressbarView = require \"./progressbar\"\nModalView = require \"./modal\"\n\nFile = require '../models/file'\nFileCollection = require '../collections/files'\n\nSocketListener = require '../helpers/socket'\n\nclass FileList extends ViewCollection\n    itemview: FileView\n    collectionEl: '#table-items-body'\n\n    initialize: (options) ->\n        @collection = options.collection\n        @listenTo @collection, \"sort\", @render\n        @listenTo @collection, \"remove\", @render\n        @socket = new SocketListener()\n        @socket.watch @collection\n        @$collectionEl = options.$collectionEl\n        super options\n\n\nmodule.exports = class FilesView extends BaseView\n    template: require './templates/files'\n    id: 'files'\n    el: '#files'\n\n    events:\n        'click #up-name'               : 'onChangeOrder'\n        'click #down-name'             : 'onChangeOrder'\n        'click #up-class'              : 'onChangeOrder'\n        'click #down-class'            : 'onChangeOrder'\n        'click #up-size'               : 'onChangeOrder'\n        'click #down-size'             : 'onChangeOrder'\n        'click #up-lastModification'   : 'onChangeOrder'\n        'click #down-lastModification' : 'onChangeOrder'\n\n\n    @views = {}\n\n    initialize: (options) ->\n        super options\n        @model = options.model\n        @firstRender = true\n        @collection = new FileCollection\n        @listenTo @collection, \"reset\", @updateNbFiles\n        @listenTo @collection, \"add\", @updateNbFiles\n        @listenTo @collection, \"remove\", @updateNbFiles\n\n    afterRender: ->\n        super\n        @fileList = new FileList\n            collection: @collection\n            $collectionEl: @$ '#table-items-body'\n\n        @fileList.render()\n        @$(\"#file-amount-indicator\").hide()\n        @displayChevron 'up', 'name' if @firstRender\n\n    updateNbFiles: ->\n        nbElements = @collection.length\n\n        if nbElements > 0\n            @$(\"#file-amount-indicator\").html t 'element',\n                                                smart_count: nbElements\n            @$(\"#file-amount-indicator\").show()\n            @$(\"#no-files-indicator\").hide()\n        else\n            @$(\"#file-amount-indicator\").hide()\n            @$(\"#no-files-indicator\").show()\n\n        @firstRender = false\n\n    addFile: (attach, dirUpload) =>\n        found = @collection.findWhere name: attach.name\n\n        if not found\n            fileAttributes =\n                'name'               : attach.name\n                'path'               : attach.path or @model.repository()\n                'type'               : \"file\"\n                'lastModification'   : attach.lastModifiedDate\n\n            file = new File fileAttributes\n            file.file = attach\n\n            # add a progress bar\n            progress = new ProgressbarView file\n            if dirUpload\n                dialogEl = \"dialog-new-folder\"\n            else\n                dialogEl = \"dialog-upload-file\"\n\n            $(\"##{dialogEl} .modal-body\").append(\n               \"<div class=\\\"progress-name\\\">#{attach.name}</div>\"\n            )\n            $(\"##{dialogEl} .modal-body\").append progress.render().el\n\n            @upload file, dirUpload\n        else\n            ModalView.error \"#{t('modal error file exists')}: #{attach.name}\"\n\n    upload: (file, noDisplay) =>\n        path = file.get 'path'\n        path = '' if file.get('id') is 'root'\n        console.log file.get('id'), path\n        formdata = new FormData()\n        formdata.append 'cid', file.cid\n        formdata.append 'name', file.get 'name'\n        formdata.append 'path', path\n        formdata.append 'file', file.file\n        formdata.append 'lastModification', file.get 'lastModification'\n        file.save null,\n            contentType: false\n            data: formdata\n            success: (data) =>\n                if not noDisplay\n                    @collection.add file, merge: true\n            error: =>\n                ModalView.error t(\"modal error file upload\")\n\n    addFolder: (folder, noDisplay, callback) ->\n        found = @collection.findWhere(name: folder.get(\"name\"), path: folder.get(\"path\"))\n\n        if not found\n            folder.save null,\n                success: (data) =>\n                    if not noDisplay\n                        @collection.add folder\n                    callback() if callback?\n                error: (error) =>\n                    error.txt = \"modal error folder create\"\n                    callback error\n        else\n            error.txt = \"modal error folder exists\"\n            callback error\n\n    # Helpers to display correct chevron to sort files\n    displayChevron: (order, type) ->\n        @$('#up-name').show()\n        @$('#up-name').addClass 'unactive'\n        @$('#down-name').hide()\n        @$('#up-size').show()\n        @$('#up-size').addClass 'unactive'\n        @$('#down-size').hide()\n        @$('#up-class').show()\n        @$('#up-class').addClass 'unactive'\n        @$('#down-class').hide()\n        @$('#up-lastModification').show()\n        @$('#up-lastModification').addClass 'unactive'\n        @$('#down-lastModification').hide()\n\n        if order is \"down\"\n            @$(\"#up-#{type}\").show()\n            @$(\"#down-#{type}\").hide()\n            @$(\"#up-#{type}\").removeClass 'unactive'\n        else\n            @$(\"#up-#{type}\").hide()\n            @$(\"#down-#{type}\").show()\n            @$(\"#down-#{type}\").removeClass 'unactive'\n\n\n    # Changer sorting depending on the clicked chevron.\n    onChangeOrder: (event) ->\n        infos = event.target.id.split '-'\n        way = infos[0]\n        type = infos[1]\n\n        @displayChevron way, type\n        @collection.type = type\n\n        if @collection.order is \"incr\"\n            @collection.order = \"decr\"\n            @collection.sort()\n        else\n            @collection.order = \"incr\"\n            @collection.sort()\n","BaseView = require '../lib/base_view'\r\nFilesView = require './files'\r\nBreadcrumbsView = require \"./breadcrumbs\"\r\nProgressbarView = require \"./progressbar\"\r\nModalUploadView = require './modal_upload'\r\nModalFolderView = require './modal_folder'\r\nModalShareView = require './modal_share'\r\nModalView = require './modal_share'\r\nshowError = require('./modal').error\r\n\r\nFile = require '../models/file'\r\nFileCollection = require '../collections/files'\r\n\r\n\r\n\r\nmodule.exports = class FolderView extends BaseView\r\n\r\n    template: require './templates/folder'\r\n\r\n    events: ->\r\n        'click #button-new-folder'     : 'onNewFolderClicked'\r\n        'click #button-upload-new-file': 'onUploadNewFileClicked'\r\n        'click #new-folder-send'       : 'onAddFolder'\r\n        'click #cancel-new-folder'     : 'onCancelFolder'\r\n        'click #cancel-new-file'       : 'onCancelFile'\r\n        'click #share-state'           : 'onShareClicked'\r\n\r\n        'dragstart #files' : 'onDragStart'\r\n        'dragenter #files' : 'onDragEnter'\r\n        'dragover #files'  : 'onDragEnter'\r\n        'dragleave #files' : 'onDragLeave'\r\n        'drop #files'      : 'onDrop'\r\n\r\n        'keyup input#search-box'       : 'onSearchKeyPress'\r\n\r\n    initialize: (options) ->\r\n        @model = options.model\r\n        @breadcrumbs = options.breadcrumbs\r\n        @breadcrumbs.setRoot @model\r\n        @uploadingFiles = new Backbone.Collection()\r\n        @uploadingFiles.loaded = 0\r\n        @listenTo @uploadingFiles, 'sync', =>\r\n            @uploadingFiles.loaded++\r\n            @uploadingFiles.trigger 'progress-total'\r\n\r\n    getRenderData: ->\r\n        model: @model\r\n\r\n    afterRender: ->\r\n        @breadcrumbsView = new BreadcrumbsView @breadcrumbs\r\n        @$(\"#crumbs\").append @breadcrumbsView.render().$el\r\n        @uploadButton = @$ '#button-upload-new-file'\r\n\r\n        @filesList = new FilesView el: @$(\"#files\"), model: @model\r\n        @filesList.render()\r\n\r\n    # Display and re-render the contents of the folder\r\n    changeActiveFolder: (folder) ->\r\n        # register the model\r\n        @stopListening @model\r\n        @model = folder\r\n        @listenTo @model, 'change', -> @changeActiveFolder @model\r\n\r\n        # update breadcrumbs\r\n        @breadcrumbs.push folder\r\n        if folder.id is \"root\"\r\n            @$(\"#crumbs\").css opacity: 0.5\r\n        else\r\n            @$(\"#crumbs\").css opacity: 1\r\n\r\n        # see, if we should display add/upload buttons\r\n        if folder.get(\"type\") is \"folder\"\r\n            @$(\"#upload-buttons\").show()\r\n        else\r\n            @$(\"#upload-buttons\").hide()\r\n\r\n        # manage share state button\r\n        shareState = $ '#share-state'\r\n        if @model.id isnt \"root\"\r\n            shareState.show()\r\n            clearance = @model.get 'clearance'\r\n            if clearance is 'public'\r\n                shareState.html \"#{t('public')}&nbsp;\"\r\n                shareState.append $ '<span class=\"fa fa-globe\"></span>'\r\n            else if clearance and clearance.length > 0\r\n                shareState.html \"#{t('shared')}&nbsp;\"\r\n                shareState.append $ \"<span class='fa fa-users'>\" \\\r\n                                    + \"</span>\"\r\n                shareState.append $ \"<span>&nbsp;#{clearance.length}</span>\"\r\n            else\r\n                shareState.html \"#{t('private')}&nbsp;\"\r\n                shareState.append $ '<span class=\"fa fa-lock\"></span>'\r\n        else\r\n            shareState.hide()\r\n\r\n        # folder 'download zip' link\r\n        zipLink = \"folders/#{@model.get('id')}/zip/#{@model.get('name')}\"\r\n        @$('#download-link').attr 'href', zipLink\r\n\r\n        @$(\"#loading-indicator\").spin 'small'\r\n        @model.findContent (err, content) =>\r\n            if err\r\n                folderName = @model.get 'name'\r\n                ModalView.error t(\"modal error get content\", {folderName})\r\n                @$(\"#loading-indicator\").spin false\r\n            else\r\n                for item in content\r\n                    if item.docType.toLowerCase() is \"file\"\r\n                        item.type = \"file\"\r\n                    else\r\n                        item.type = \"folder\"\r\n\r\n                @stopListening @filesList.collection\r\n                @filesList.collection.reset content\r\n                @filesList.model = @model\r\n                @listenTo @filesList.collection, \"sync\", @hideUploadForm\r\n                @$(\"#loading-indicator\").spin false\r\n\r\n    onUploadNewFileClicked: ->\r\n        @modal = new ModalUploadView\r\n            model: @model\r\n            validator: @validateNewModel\r\n            uploadingFiles: @uploadingFiles\r\n\r\n    onNewFolderClicked: ->\r\n        @modal = new ModalFolderView\r\n            model: @model\r\n            validator: @validateNewModel\r\n            uploadingFiles: @uploadingFiles\r\n\r\n    validateNewModel: (model) =>\r\n        myChildren = model.get('path') is @model.repository()\r\n        found = @filesList.collection.findWhere name: model.get 'name'\r\n        if myChildren and found\r\n            return t 'modal error file exists'\r\n        else\r\n            return null\r\n\r\n    ###\r\n        Drag and Drop to upload\r\n    ###\r\n    onDragStart: (e) ->\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n\r\n    onDragEnter: (e) ->\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        @uploadButton.addClass 'btn-cozy-contrast'\r\n        @$('#files-drop-zone').show()\r\n\r\n    onDragLeave: (e) ->\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        @uploadButton.removeClass 'btn-cozy-contrast'\r\n        @$('#files-drop-zone').hide()\r\n\r\n    onDrop: (e) ->\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n\r\n        filesToUpload = e.dataTransfer.files\r\n        if filesToUpload.length > 0\r\n            @modal = new ModalUploadView\r\n                model: @model\r\n                validator: @validateNewModel\r\n                files: filesToUpload\r\n                uploadingFiles: @uploadingFiles\r\n        @uploadButton.removeClass 'btn-cozy-contrast'\r\n        @$('#files-drop-zone').hide()\r\n\r\n    ###\r\n        Search\r\n    ###\r\n    onSearchKeyPress: (e) =>\r\n        query = @$('input#search-box').val()\r\n\r\n        #if e.keyCode is 13\r\n        if query isnt \"\"\r\n            @displaySearchResults query\r\n            app.router.navigate \"search/#{query}\"\r\n        else\r\n            @changeActiveFolder @breadcrumbs.root\r\n\r\n    displaySearchResults: (query) ->\r\n        @breadcrumbs.popAll()\r\n\r\n        data =\r\n            id: query\r\n            name: \"#{t('breadcrumbs search title')} '#{query}'\"\r\n            type: \"search\"\r\n\r\n        search = new File data\r\n        @changeActiveFolder search\r\n\r\n    onShareClicked: ->\r\n        new ModalShareView model: @model\r\n\r\n    destroy: ->\r\n        @uploadingFiles = null\r\n        super()\r\n","BaseView = require '../lib/base_view'\r\n\r\nmodule.exports = class ModalView extends BaseView\r\n\r\n    id: \"dialog-modal\"\r\n    className: \"modal fade\"\r\n    attributes:\r\n        'tab-index': -1\r\n    template: require './templates/modal'\r\n    value: 0\r\n\r\n    events: ->\r\n        \"click #modal-dialog-no\"  : \"onNo\"\r\n        \"click #modal-dialog-yes\" : \"onYes\"\r\n\r\n    constructor: (@title, @msg, @yes, @no, @cb, @hideOnYes) ->\r\n        super()\r\n        @hideOnYes = true unless @hideOnYes?\r\n\r\n    initialize: ->\r\n        @$el.on 'hidden.bs.modal', => @close()\r\n\r\n        @render()\r\n        @show()\r\n\r\n    onYes: ->\r\n        @cb true if @cb\r\n        @hide()\r\n\r\n    onNo: ->\r\n        @cb false if @cb\r\n        @hide() if @hideOnYes\r\n\r\n    onShow: ->\r\n\r\n    close: ->\r\n        setTimeout (() => @destroy()), 500\r\n\r\n    show: ->\r\n        @$el.modal 'show'\r\n        @$el.trigger 'show'\r\n\r\n    hide: ->\r\n        @$el.modal 'hide'\r\n        @$el.trigger 'hide'\r\n\r\n    render: ->\r\n        @$el.append @template(title: @title, msg: @msg, yes: @yes, no: @no)\r\n        $(\"body\").append @$el\r\n        @afterRender()\r\n        @\r\n\r\nmodule.exports.error = (code, cb) ->\r\n    new ModalView t(\"modal error\"), code, t(\"modal ok\"), false, cb\r\n","BaseView = require '../lib/base_view'\r\nModal = require \"./modal\"\r\nHelpers = require '../lib/folder_helpers'\r\nFile = require '../models/file'\r\nModalUploadView = require './modal_upload'\r\n\r\nClient = require \"../helpers/client\"\r\n\r\n# extends the cozy-clearance modal to files specifics\r\nmodule.exports = class ModalFolderView extends Modal\r\n\r\n    id: \"dialog-new-folder\"\r\n    className: \"modal fade\"\r\n    attributes:\r\n        'tab-index': -1\r\n    template: require './templates/modal_folder'\r\n\r\n    constructor: (options, callback) ->\r\n\r\n        # must be done first, otherwise it's undefined\r\n        @uploadingFiles = options.uploadingFiles\r\n\r\n        # do not use modal short constructor\r\n        Modal.__super__.constructor.apply this, arguments\r\n        @callback = callback\r\n        @validator = options.validator\r\n\r\n\r\n    events: ->\r\n        _.extend super,\r\n            'keyup #inputName' : 'onKeyUp'\r\n            'change #folder-uploader': 'onUploaderChange'\r\n\r\n\r\n    initialize: ->\r\n        super\r\n        @prefix = @model.repository()\r\n\r\n    # - display upload folder form only if it is supported\r\n    # - Register submit button\r\n    afterRender: ->\r\n        uploadDirectoryInput = @$(\"#folder-uploader\")[0]\r\n        supportsDirectoryUpload = uploadDirectoryInput.directory or\r\n                                  uploadDirectoryInput.mozdirectory or\r\n                                  uploadDirectoryInput.webkitdirectory or\r\n                                  uploadDirectoryInput.msdirectory\r\n\r\n        if supportsDirectoryUpload\r\n            @$(\"#folder-upload-form\").removeClass('hide')\r\n\r\n\r\n        @uploader = @$('#folder-uploader')\r\n        @inputName = @$('#inputName')\r\n\r\n        @submitButton = @$ \"#modal-dialog-yes\"\r\n        @$el.on 'show', @onShow\r\n\r\n        # @submitButton.spin()\r\n        # @showModal()\r\n\r\n    hideAndDestroy: =>\r\n        @hide()\r\n        setTimeout =>\r\n            @destroy()\r\n        , 500\r\n\r\n    onShow: =>\r\n        setTimeout =>\r\n            @inputName.focus()\r\n        , 500\r\n\r\n    onKeyUp: (event) =>\r\n        if event.keyCode is 13 #enter\r\n            event.preventDefault()\r\n            event.stopPropagation()\r\n            @onYes()\r\n        else\r\n            # make action clear\r\n            @action = 'create'\r\n            @uploader.val ''\r\n            if @inputName.val().length > 0\r\n                @enableCreateButtonState()\r\n            else\r\n                @disableCreateButtonState()\r\n\r\n    onUploaderChange: =>\r\n        # make action clear\r\n        @action = 'upload'\r\n        @inputName.val ''\r\n        @enableCreateButtonState()\r\n\r\n    enableCreateButtonState: ->\r\n        element = $ '#modal-dialog-yes'\r\n        if element.prop 'disabled'\r\n            element.prop('disabled', 'false').button 'refresh'\r\n\r\n    disableCreateButtonState: ->\r\n        element = $ '#modal-dialog-yes'\r\n        unless element.prop 'disabled'\r\n            element.prop 'disabled', 'true'\r\n\r\n    doSaveFolder: (folder, callback) ->\r\n        # let parent view decide if this exists\r\n        if err = @validator folder\r\n            return Modal.error t \"modal error folder exists\"\r\n\r\n        @submitButton.html('&nbsp;').spin('tiny')\r\n        folder.save null,\r\n            always: ->\r\n                @submitButton.spin(false).text t 'new folder send'\r\n\r\n            success: (data) =>\r\n                @hideAndDestroy()\r\n                callback null\r\n\r\n            error: (_, err) ->\r\n                if err.status is 400\r\n                    Modal.error t \"modal error folder exists\"\r\n                else\r\n                    Modal.error t \"modal error folder create\"\r\n\r\n                callback err\r\n\r\n    doCreateFolder: (callback) =>\r\n        folder = new File\r\n            name: @$('#inputName').val()\r\n            path: @prefix\r\n            type: \"folder\"\r\n\r\n        if errors = folder.validate()\r\n            return Modal.error t \"modal error no data\"\r\n\r\n        @doSaveFolder folder, callback\r\n\r\n\r\n    doUploadFolder: (callback) =>\r\n        files = @$('#folder-uploader')[0].files\r\n\r\n        if not files.length\r\n            return Modal.error t \"modal error no data\"\r\n\r\n        dirs = Helpers.nestedDirs files\r\n\r\n        async.each dirs, (dir, cb) =>\r\n            dir = Helpers.removeTralingSlash dir\r\n            parts = dir.split '/'\r\n            path = \"#{@prefix}/#{parts[...-1].join '/'}\"\r\n            path = Helpers.removeTralingSlash path\r\n\r\n\r\n            folder = new File\r\n                name: parts[-1..][0]\r\n                path: path\r\n                type: \"folder\"\r\n\r\n            @doSaveFolder folder, (err) ->\r\n                console.log err if err\r\n                cb null\r\n\r\n        , (err) =>\r\n\r\n            files = _.filter files, (file) ->\r\n                file.name not in ['.', '..']\r\n\r\n            for file in files\r\n                relPath = file.relativePath or\r\n                          file.mozRelativePath or\r\n                          file.webkitRelativePath or\r\n                          file.msRelativePath\r\n                file.path = \"#{@prefix}/#{Helpers.dirName relPath }\"\r\n\r\n            new ModalUploadView\r\n                files: files\r\n                validator: -> null\r\n                uploadingFiles: @uploadingFiles\r\n\r\n\r\n    onYes: =>\r\n        doStuff = if @action is 'upload' then @doUploadFolder else @doCreateFolder\r\n\r\n        doStuff ->\r\n            console.log arguments\r\n","BaseView = require '../lib/base_view'\r\nModal = require \"./modal\"\r\nclient = require \"../helpers/client\"\r\nCozyClearanceModal = require \"cozy-clearance/modal_share_view\"\r\n\r\n# extends the cozy-clearance modal to files specifics\r\nmodule.exports = class ModalShareView extends CozyClearanceModal\r\n\r\n    # display inherited details on summary's click\r\n    events: -> _.extend super,\r\n        'click #inherited-share-summary a': =>\r\n            @$('#inherited-share-list').show()\r\n            @$('#inherited-share-summary').hide()\r\n\r\n    # retrieve inherited rules\r\n    initialize: (options) ->\r\n        @type = @model.get('type')\r\n        super\r\n        @summaryemails = []\r\n        client.get \"clearance/#{@model.id}\", (err, data) =>\r\n            if err\r\n                Modal.error 'server error occured', => @$el.modal 'hide'\r\n            else\r\n                @inherited = data.inherited\r\n                last = _.last @inherited\r\n                @forcedPublic = last.name if last?.clearance is 'public'\r\n\r\n                # actually render content\r\n                @refresh()\r\n\r\n    # allow rw permissions for folder, customize message depending on type\r\n    permissions: ->\r\n        if @type is 'folder'\r\n            'r': 'perm r folder'\r\n            'rw': 'perm rw folder'\r\n        else\r\n            'r': t 'perm r file'\r\n\r\n    # do not allow adding permissions for user who already have them by inheritance\r\n    typeaheadFilter: (item) =>\r\n        email = item.toString().split(';')[0]\r\n        super and email not in @summaryemails\r\n\r\n    # force 'public' display if forced public by inheritance\r\n    getRenderData: ->\r\n        out = super\r\n        out.clearance = 'public' if @forcedPublic\r\n        return out\r\n\r\n    # ignore click on 'public' button when forced public by inheritance\r\n    makePublic: ->\r\n        return if @forcedPublic\r\n        super\r\n\r\n    # support forced public by inheritance and add inherited summary\r\n    afterRender: () ->\r\n        super\r\n\r\n        if @forcedPublic\r\n            text = t('forced public') + @forcedPublic\r\n            @$('#share-public').addClass 'toggled'\r\n            @$('#share-private').hide().after $('<p>').text text\r\n        else\r\n            listitems = []\r\n            summary = []\r\n\r\n            for folder in @inherited when folder.clearance.length isnt 0\r\n                text = t('inherited from') + folder.name\r\n                listitems.push $('<li>').addClass('header').text text\r\n                for rule in folder.clearance\r\n                    summary.push rule.email\r\n                    listitems.push $('<li>').text rule.email\r\n\r\n            if summary.length isnt 0\r\n                @summaryemails = summary\r\n                text = t('also have access') + ' : ' + summary.join(', ') + '. '\r\n                summary = $('<div id=\"inherited-share-summary\">').text text\r\n                summary.append $('<a>').text t('details')\r\n                list = $('<ul id=\"inherited-share-list\">').hide()\r\n                list.append item for item in listitems\r\n                @$('#share-list').after summary, list\r\n\r\n        # if there is a writing guest\r\n        guestCanWrite = _.findWhere @model.get('clearance'), perm: 'rw'\r\n        if guestCanWrite\r\n            checkbox = $('<input id=\"notifs\" type=\"checkbox\">')\r\n            checkbox.prop 'checked', @model.get 'changeNotification'\r\n            text = t('change notif')\r\n            html = '<label class=\"notifs-label\" for=\"notifs\">'\r\n            label = $(html).append checkbox, text\r\n            @$('#share-list').after label\r\n\r\n\r\n    # include the changes notification in PUT request\r\n    saveData: ->\r\n        changeNotification = @$('#notifs').prop('checked') or false\r\n        _.extend super, changeNotification: changeNotification\r\n","Modal = require './modal'\r\nFile = require '../models/file'\r\nProgressBar = require './progressbar'\r\n\r\nUploadedFileView = require './uploaded_file_view'\r\n\r\nmodule.exports = class ModalUploadView extends Modal\r\n\r\n    id: \"dialog-upload-file\"\r\n    className: \"modal fade\"\r\n    attributes:\r\n        'tab-index': -1\r\n    template: require './templates/modal_upload'\r\n\r\n    events: ->\r\n        _.extend super,\r\n            'dragover':  'onDragEnter'\r\n            'dragenter': 'onDragEnter'\r\n            'dragleave': 'onDragLeave'\r\n            'drop':      'onDrop'\r\n            'change #uploader': 'onUploaderChange'\r\n            'mousedown #uploader': 'handleUploaderActive'\r\n\r\n    constructor: (options, callback) ->\r\n        # must be done first, otherwise it's undefined\r\n        @uploadingFiles = options.uploadingFiles\r\n\r\n        # do not use modal short constructor\r\n        Modal.__super__.constructor.apply this, arguments\r\n        @callback = callback\r\n        @validator = options.validator\r\n        @files = options.files\r\n\r\n        @views = {}\r\n\r\n        @onYes() if @files?.length > 0\r\n\r\n    initialize: ->\r\n        @listenTo @uploadingFiles, 'add', @afterRender\r\n        @listenTo @uploadingFiles, 'progress-total', =>\r\n            @totalProgress.trigger 'progress',\r\n                loaded: @uploadingFiles.loaded\r\n                total: @uploadingFiles.length\r\n\r\n            # Force the refresh if all uploads are done\r\n            @afterRender() if @uploadingFiles.loaded is @uploadingFiles.length\r\n\r\n        super()\r\n\r\n    afterRender: =>\r\n        @input = @$ '#uploader input'\r\n        @label = @$ '#uploader .text'\r\n\r\n        # files are being uploaded\r\n        if @uploadingFiles.length > 0\r\n            # hide what must be hidden\r\n            noButton = $ '#modal-dialog-no'\r\n            noButton.html '&nbsp;'\r\n            noButton.spin 'small'\r\n\r\n            @subRenderTotalProgressBar()\r\n            @subRenderFileUploadProgress()\r\n\r\n            # when upload is over, we reset the modal\r\n            if @uploadingFiles.loaded is @uploadingFiles.length\r\n                noButton = $ '#modal-dialog-no'\r\n                noButton.spin false\r\n                noButton.html t 'upload end button'\r\n                @uploadingFiles.reset()\r\n                @uploadingFiles.loaded = 0\r\n\r\n    subRenderTotalProgressBar: ->\r\n        @$('#progress-total').empty()\r\n        @views = []\r\n        @totalProgress = new Backbone.Model name: t 'total progress'\r\n        @totalProgress.loaded = @uploadingFiles.loaded\r\n        @totalProgress.total = @uploadingFiles.length\r\n        progressbar = new ProgressBar(model: @totalProgress).render()\r\n        progressbar.$el.prependTo @$ '#progress-total'\r\n\r\n    subRenderFileUploadProgress: ->\r\n        @$('#progress-part').empty()\r\n        filesEl =  []\r\n        # first we detach the existing views (better performance)\r\n        _.map Object.keys(@views), (viewID) => @views[viewID].$el.detach()\r\n\r\n        # next we create or reattach existing views\r\n        @uploadingFiles.forEach (uploadingFile) =>\r\n            uploadView = @views[uploadingFile.cid]\r\n\r\n            unless uploadView?\r\n                uploadEl = new UploadedFileView model: uploadingFile\r\n                @views[uploadingFile.cid] = uploadEl\r\n\r\n            @$('#progress-part').append uploadEl.render().$el\r\n\r\n    onNo: ->\r\n        @input.val \"\"\r\n        @hide()\r\n        setTimeout (() => @destroy()), 500\r\n\r\n    onYes: -> @doUploadFiles => @callback?()\r\n\r\n    handleUploaderActive: =>\r\n        @$('#uploader').addClass 'active'\r\n        $(document).one 'mouseup', =>\r\n            @$('#uploader').removeClass 'active'\r\n\r\n    updateMessage: =>\r\n        if @files.length\r\n            msg = t 'upload msg selected', smart_count: @files.length\r\n            $('#modal-dialog-yes').prop \"disabled\", false\r\n        else\r\n            msg = t 'upload msg'\r\n            $('#modal-dialog-yes').prop \"disabled\", true\r\n\r\n        @label.text msg\r\n\r\n    onUploaderChange: (e) =>\r\n        @files = @input[0].files\r\n        @updateMessage()\r\n\r\n    onDragEnter: (e) ->\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        @$('.modal-body').css 'background-color', 'yellow'\r\n\r\n    onDragLeave: (e) ->\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        @$('.modal-body').css 'background-color', ''\r\n\r\n    onDrop: (e) =>\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n\r\n        @files = _.filter e.dataTransfer.files, (attach) -> attach.type isnt ''\r\n        @updateMessage()\r\n\r\n\r\n    doUploadFiles: (callback) =>\r\n        # first loop, create models & progress bars\r\n        filesModels = _.map @files, (blob) =>\r\n            fileModel = new File\r\n                type: 'file'\r\n                name: blob.name\r\n                path: blob.path or @model.repository()\r\n                lastModification: blob.lastModifiedDate\r\n            fileModel.file = blob\r\n            fileModel.loaded = 0\r\n            fileModel.total = blob.size\r\n            fileModel.error = @validator fileModel\r\n\r\n            @uploadingFiles.add fileModel\r\n\r\n            return fileModel\r\n\r\n        # we clear the input to allow simultaneous uploads\r\n        @files = []\r\n        @input.val \"\"\r\n        @updateMessage()\r\n\r\n        # second loop, do upload 5 by 5\r\n        async.eachLimit filesModels, 5, (fileModel, cb) ->\r\n            return cb null if fileModel.error\r\n            fileModel.save null,\r\n                success: -> cb null\r\n                error: (err) ->\r\n                    fileModel.error = t err.msg or \"modal error file upload\"\r\n                    fileModel.trigger 'sync'\r\n                    cb null # do not stop all list if one fail\r\n        , callback\r\n\r\n    destroy: ->\r\n        @stopListening @uploadingFiles\r\n        super()\r\n","BaseView = require '../lib/base_view'\r\n\r\nmodule.exports = class ProgressbarView extends BaseView\r\n\r\n    className: 'progressview'\r\n    template: require './templates/progressbar'\r\n    value: 0\r\n\r\n    initialize: ->\r\n        @listenTo @model, 'progress', @update\r\n        @listenTo @model, 'sync', @destroy\r\n\r\n        @value = parseInt(@model.loaded / @model.total * 100)\r\n\r\n    update: (e) ->\r\n        @value = parseInt(e.loaded / e.total * 100)\r\n        @render()\r\n\r\n    getRenderData: ->\r\n        value: @value\r\n        name: @model.get 'name'\r\n","window.CozySocketListener = {fake: ''}\nFolderView = require './folder'\nFile = require '../models/file'\nFilesView = require './files'\nFileCollection = require '../collections/files'\n\nclass PublicFilesView extends FilesView\n    initialize: (@collection, @model) ->\n        # patch to not use socket listener\n        FilesView.__super__.initialize.apply this, arguments\n\n    # reload to re-render\n    addItem: -> window.location.reload()\n\nmodule.exports = class PublicFolderView extends FolderView\n\n    el: document.getElementsByTagName('body')[0]\n    templates: -> ''\n    initialize: (options) ->\n        @model = new File _.extend options.folder, type: 'folder'\n\n        # patch to use proper url\n        old = File::urlRoot\n        File::urlRoot = -> '../' + old.apply(this, arguments) + window.location.search\n\n        # patch to allow uploads\n        @filesCollection = new FileCollection []\n        @filesList = new PublicFilesView @filesCollection, @model\n\n    onCancelFolder: ->\n        # this feels hacky, but not sure how to handle it better\n        # there has been some uploading done, let's reload\n        super\n        if @$('.progress-name').length\n            window.location.reload()","BaseView = require '../lib/base_view'\n\nmodule.exports = class TagsView extends BaseView\n\n    initialize: ->\n        super\n\n    afterRender: ->\n\n        @$el.tagit\n            availableTags: window.tags or []\n            placeholderText: t 'tag'\n            afterTagAdded: @tagAdded\n            afterTagRemoved: @tagRemoved\n            onTagClicked: @tagClicked\n\n        # hack to prevent tagit events\n        @duringRefresh = false\n\n        $('.ui-widget-content .ui-autocomplete-input').keypress (event) ->\n            keyCode = event.keyCode || event.which\n            $('.zone .type').first().select() if keyCode is 9\n\n        return this\n\n    tagAdded: (event, ui) =>\n        unless @duringRefresh or ui.duringInitialization\n            @model.set 'tags', @$el.tagit 'assignedTags'\n            @model.save()\n\n    tagClicked: (event, ui) =>\n        $(\"#search-box\").val \"tag:#{ui.tagLabel}\"\n        $(\"#search-box\").trigger 'keyup'\n        $(\".dropdown-menu\").hide()\n\n    tagRemoved: (event, ui) =>\n        unless @duringRefresh or ui.duringInitialization\n            @model.set 'tags', @$el.tagit 'assignedTags'\n            @model.save()\n\n    refresh: =>\n        @duringRefresh = true\n        @$el.tagit 'removeAll'\n        for tag in @model.get('tags')\n            @$el.tagit 'createTag', tag\n        @duringRefresh = false\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nif ( model.id == \"root\")\n{\nbuf.push(\"<li><a href=\\\"#\\\"><span class=\\\"glyphicon glyphicon-home\\\"> </span></a></li>\");\n}\nelse\n{\nif ( model.attributes.type == \"search\")\n{\nbuf.push(\"<li><a\" + (jade.attr(\"href\", \"#search/\" + (model.id) + \"\", true, false)) + \">\" + (jade.escape((jade_interp = model.attributes.name) == null ? '' : jade_interp)) + \"</a></li>\");\n}\nelse\n{\nbuf.push(\"<li><a\" + (jade.attr(\"href\", \"#folders/\" + (model.id) + \"\", true, false)) + \">\" + (jade.escape((jade_interp = model.attributes.name) == null ? '' : jade_interp)) + \"</a></li>\");\n}\n};return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model,options = locals_.options;\nif ( model.type && model.type == \"folder\")\n{\nbuf.push(\"<td><div class=\\\"caption-wrapper\\\"><a\" + (jade.attr(\"href\", \"#folders/\" + (model.id) + \"\", true, false)) + (jade.attr(\"title\", \"\" + (t('open folder')) + \"\", true, false)) + \" class=\\\"caption btn btn-link\\\"><i class=\\\"fa fa-folder\\\"></i>\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</a></div><ul class=\\\"tags\\\">\");\nif ( model.tags)\n{\n// iterate model.tags\n;(function(){\n  var $$obj = model.tags;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</ul><div class=\\\"operations\\\"><a\" + (jade.attr(\"title\", \"\" + (t('tooltip share')) + \"\", true, false)) + \" class=\\\"file-share\\\">\");\nif ( model.clearance == 'public')\n{\nbuf.push(\"<span class=\\\"fa fa-globe\\\"></span>\");\n}\nelse if ( model.clearance && model.clearance.length > 0)\n{\nbuf.push(\"<span class=\\\"fa fa-users\\\">\" + (jade.escape((jade_interp = model.clearance.length) == null ? '' : jade_interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span class=\\\"fa fa-lock\\\"></span>\");\n}\nbuf.push(\"</a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip edit')) + \"\", true, false)) + \" class=\\\"file-edit\\\"><span class=\\\"glyphicon glyphicon-edit\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip move')) + \"\", true, false)) + \" class=\\\"file-move\\\"><span class=\\\"glyphicon glyphicon-arrow-right\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip delete')) + \"\", true, false)) + \" class=\\\"file-delete\\\"><span class=\\\"glyphicon glyphicon-remove-circle\\\"></span></a><a\" + (jade.attr(\"href\", \"folders/\" + (model.id) + \"/zip/\" + (model.name) + \"\", true, false)) + \" target=\\\"_blank\\\"\" + (jade.attr(\"title\", \"\" + (t('tooltip download')) + \"\", true, false)) + \" class=\\\"file-download\\\"><span class=\\\"glyphicon glyphicon-cloud-download\\\"></span></a></div></td><td class=\\\"size-column-cell\\\"></td><td class=\\\"type-column-cell\\\"><span class=\\\"pull-left\\\">\" + (jade.escape((jade_interp = t('folder')) == null ? '' : jade_interp)) + \"</span></td><td class=\\\"date-column-cell\\\">\");\nif ( model.lastModification)\n{\nbuf.push(\"<span>\" + (jade.escape((jade_interp = moment(model.lastModification).calendar()) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td>\");\n}\nelse\n{\nbuf.push(\"<td><div class=\\\"caption-wrapper\\\"><a\" + (jade.attr(\"href\", \"files/\" + (model.id) + \"/attach/\" + (model.name) + \"\", true, false)) + (jade.attr(\"title\", \"\" + (t('download file')) + \"\", true, false)) + \" target=\\\"_blank\\\" class=\\\"caption btn btn-link\\\"><i class=\\\"fa fa-file-o\\\"></i>\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</a></div><ul class=\\\"tags\\\">\");\nif ( model.tags)\n{\n// iterate model.tags\n;(function(){\n  var $$obj = model.tags;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</ul><div class=\\\"operations\\\"><a\" + (jade.attr(\"title\", \"\" + (t('tooltip share')) + \"\", true, false)) + \" class=\\\"file-share\\\">\");\nif ( model.clearance == 'public')\n{\nbuf.push(\"<span class=\\\"fa fa-globe\\\"></span>\");\n}\nelse if ( model.clearance && model.clearance.length > 0)\n{\nbuf.push(\"<span class=\\\"fa fa-users\\\">\" + (jade.escape((jade_interp = model.clearance.length) == null ? '' : jade_interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span class=\\\"fa fa-lock\\\"></span>\");\n}\nbuf.push(\"</a><a class=\\\"file-edit\\\"><span\" + (jade.attr(\"title\", \"\" + (t('tooltip edit')) + \"\", true, false)) + \" class=\\\"glyphicon glyphicon-edit\\\"></span></a><a\" + (jade.attr(\"href\", \"files/\" + (model.id) + \"/download/\" + (model.name) + \"\", true, false)) + (jade.attr(\"download\", \"\" + (model.name) + \"\", true, false)) + (jade.attr(\"title\", \"\" + (t('tooltip download')) + \"\", true, false)) + \" class=\\\"file-download\\\"><span class=\\\"glyphicon glyphicon-cloud-download\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip move')) + \"\", true, false)) + \" class=\\\"file-move\\\"><span class=\\\"glyphicon glyphicon-arrow-right\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip delete')) + \"\", true, false)) + \" class=\\\"file-delete\\\"><span class=\\\"glyphicon glyphicon-remove-circle\\\"></span></a></div></td><td class=\\\"file-size size-column-cell\\\">\");\noptions = {base: 2}\nbuf.push(\"<span>\" + (jade.escape((jade_interp = filesize(model.size || 0, options)) == null ? '' : jade_interp)) + \"</span></td><td class=\\\"file-type type-column-cell\\\"><span>\" + (jade.escape((jade_interp = t(model.class)) == null ? '' : jade_interp)) + \"</span></td><td class=\\\"file-date date-column-cell\\\">\");\nif ( model.lastModification)\n{\nbuf.push(\"<span>\" + (jade.escape((jade_interp = moment(model.lastModification).calendar()) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td>\");\n};return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model,options = locals_.options;\nbuf.push(\"<td><span class=\\\"caption caption-edit\\\">\");\nif ( model.type && model.type == \"folder\")\n{\nbuf.push(\"<i class=\\\"fa fa-folder\\\"></i>\");\n}\nelse\n{\nbuf.push(\"<i class=\\\"fa fa-file-o\\\"></i>\");\n}\nbuf.push(\"<input\" + (jade.attr(\"value\", model.name, true, false)) + \" class=\\\"caption file-edit-name\\\"/></span><a class=\\\"btn btn-sm btn-cozy file-edit-save\\\">\" + (jade.escape((jade_interp = t(\"file edit save\")) == null ? '' : jade_interp)) + \"</a><a class=\\\"btn btn-sm btn-link file-edit-cancel\\\">\" + (jade.escape((jade_interp = t(\"file edit cancel\")) == null ? '' : jade_interp)) + \"</a></td><td class=\\\"file-size\\\">\");\noptions = {base: 2}\nbuf.push(\"<span class=\\\"pull-left\\\">\" + (jade.escape((jade_interp = filesize(model.size || 0, options)) == null ? '' : jade_interp)) + \"</span></td><td class=\\\"file-type type-column-cell\\\"><span class=\\\"pull-left\\\">\" + (jade.escape((jade_interp = t(model.class)) == null ? '' : jade_interp)) + \"</span></td><td class=\\\"file-date date-column-cell\\\">\");\nif ( model.lastModification)\n{\nbuf.push(\"<span class=\\\"pull-left\\\">\" + (jade.escape((jade_interp = moment(model.lastModification).calendar()) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model,options = locals_.options;\nif ( model.type && model.type == \"folder\")\n{\nbuf.push(\"<td><div class=\\\"caption-wrapper\\\"><a\" + (jade.attr(\"href\", \"#folders/\" + (model.id) + \"\", true, false)) + (jade.attr(\"title\", \"\" + (t('open folder')) + \"\", true, false)) + \" class=\\\"caption btn btn-link\\\"><i class=\\\"fa fa-folder\\\"></i>\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</a></div><ul class=\\\"tags\\\">\");\nif ( model.tags)\n{\n// iterate model.tags\n;(function(){\n  var $$obj = model.tags;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</ul><div class=\\\"operations\\\"><a\" + (jade.attr(\"title\", \"\" + (t('tooltip share')) + \"\", true, false)) + \" class=\\\"file-share\\\">\");\nif ( model.clearance == 'public')\n{\nbuf.push(\"<span class=\\\"fa fa-globe\\\"></span>\");\n}\nelse if ( model.clearance && model.clearance.length > 0)\n{\nbuf.push(\"<span class=\\\"fa fa-users\\\">\" + (jade.escape((jade_interp = model.clearance.length) == null ? '' : jade_interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span class=\\\"fa fa-lock\\\"></span>\");\n}\nbuf.push(\"</a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip edit')) + \"\", true, false)) + \" class=\\\"file-edit\\\"><span class=\\\"glyphicon glyphicon-edit\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip delete')) + \"\", true, false)) + \" class=\\\"file-delete\\\"><span class=\\\"glyphicon glyphicon-remove-circle\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip move')) + \"\", true, false)) + \" class=\\\"file-move\\\"><span class=\\\"glyphicon glyphicon-arrow-right\\\"></span></a><a\" + (jade.attr(\"href\", \"folders/\" + (model.id) + \"/zip/\" + (model.name) + \"\", true, false)) + \" target=\\\"_blank\\\"\" + (jade.attr(\"title\", \"\" + (t('tooltip download')) + \"\", true, false)) + \" class=\\\"file-download\\\"><span class=\\\"glyphicon glyphicon-cloud-download\\\"></span></a></div><p class=\\\"file-path\\\">\" + (jade.escape((jade_interp = model.path) == null ? '' : jade_interp)) + \"/\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</p></td><td class=\\\"size-column-cell\\\"></td><td class=\\\"type-column-cell\\\"><span class=\\\"pull-left\\\">\" + (jade.escape((jade_interp = t('folder')) == null ? '' : jade_interp)) + \"</span></td><td class=\\\"date-column-cell\\\">\");\nif ( model.lastModification)\n{\nbuf.push(\"<span>\" + (jade.escape((jade_interp = moment(model.lastModification).calendar()) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td>\");\n}\nelse\n{\nbuf.push(\"<td><div class=\\\"caption-wrapper\\\"><a\" + (jade.attr(\"href\", \"files/\" + (model.id) + \"/attach/\" + (model.name) + \"\", true, false)) + (jade.attr(\"title\", \"\" + (t('download file')) + \"\", true, false)) + \" target=\\\"_blank\\\" class=\\\"caption btn btn-link\\\"><i class=\\\"fa fa-file-o\\\"></i>\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</a></div><ul class=\\\"tags\\\">\");\nif ( model.tags)\n{\n// iterate model.tags\n;(function(){\n  var $$obj = model.tags;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</ul><div class=\\\"operations\\\"><a\" + (jade.attr(\"title\", \"\" + (t('tooltip share')) + \"\", true, false)) + \" class=\\\"file-share\\\">\");\nif ( model.clearance == 'public')\n{\nbuf.push(\"<span class=\\\"fa fa-globe\\\"></span>\");\n}\nelse if ( model.clearance && model.clearance.length > 0)\n{\nbuf.push(\"<span class=\\\"fa fa-users\\\">\" + (jade.escape((jade_interp = model.clearance.length) == null ? '' : jade_interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span class=\\\"fa fa-lock\\\"></span>\");\n}\nbuf.push(\"</a><a class=\\\"file-edit\\\"><span\" + (jade.attr(\"title\", \"\" + (t('tooltip edit')) + \"\", true, false)) + \" class=\\\"glyphicon glyphicon-edit\\\"></span></a><a\" + (jade.attr(\"href\", \"files/\" + (model.id) + \"/download/\" + (model.name) + \"\", true, false)) + (jade.attr(\"download\", \"\" + (model.name) + \"\", true, false)) + (jade.attr(\"title\", \"\" + (t('tooltip download')) + \"\", true, false)) + \" class=\\\"file-download\\\"><span class=\\\"glyphicon glyphicon-cloud-download\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip move')) + \"\", true, false)) + \" class=\\\"file-move\\\"><span class=\\\"glyphicon glyphicon-arrow-right\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip delete')) + \"\", true, false)) + \" class=\\\"file-delete\\\"><span class=\\\"glyphicon glyphicon-remove-circle\\\"></span></a></div><p class=\\\"file-path\\\">\" + (jade.escape((jade_interp = model.path) == null ? '' : jade_interp)) + \"/\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</p></td><td class=\\\"file-size size-column-cell\\\">\");\noptions = {base: 2}\nbuf.push(\"<span>\" + (jade.escape((jade_interp = filesize(model.size || 0, options)) == null ? '' : jade_interp)) + \"</span></td><td class=\\\"file-type type-column-cell\\\"><span>\" + (jade.escape((jade_interp = t(model.class)) == null ? '' : jade_interp)) + \"</span></td><td class=\\\"file-date date-column-cell\\\">\");\nif ( model.lastModification)\n{\nbuf.push(\"<span>\" + (jade.escape((jade_interp = moment(model.lastModification).calendar()) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td>\");\n};return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"loading-indicator\\\">&nbsp;</div><table id=\\\"table-items\\\" class=\\\"table table-hover\\\"><thead><tr class=\\\"table-headers\\\"><td><span>\" + (jade.escape(null == (jade_interp = t('name')) ? \"\" : jade_interp)) + \"</span><a id=\\\"down-name\\\" class=\\\"btn glyphicon glyphicon-chevron-down\\\"></a><a id=\\\"up-name\\\" class=\\\"btn glyphicon glyphicon-chevron-up\\\"></a></td><td class=\\\"size-column-cell\\\"><span>\" + (jade.escape(null == (jade_interp = t('size')) ? \"\" : jade_interp)) + \"</span><a id=\\\"down-size\\\" class=\\\"glyphicon glyphicon-chevron-down btn\\\"></a><a id=\\\"up-size\\\" class=\\\"unactive btn glyphicon glyphicon-chevron-up\\\"></a></td><td class=\\\"type-column-cell\\\"><span>\" + (jade.escape(null == (jade_interp = t('type')) ? \"\" : jade_interp)) + \"</span><a id=\\\"down-class\\\" class=\\\"btn glyphicon glyphicon-chevron-down\\\"></a><a id=\\\"up-class\\\" class=\\\"glyphicon glyphicon-chevron-up btn unactive\\\"></a></td><td class=\\\"date-column-cell\\\"><span>\" + (jade.escape(null == (jade_interp = t('date')) ? \"\" : jade_interp)) + \"</span><a id=\\\"down-lastModification\\\" class=\\\"btn glyphicon glyphicon-chevron-down\\\"></a><a id=\\\"up-lastModification\\\" class=\\\"btn glyphicon glyphicon-chevron-up unactive\\\"></a></td></tr></thead><tbody id=\\\"table-items-body\\\"></tbody></table><p id=\\\"file-amount-indicator\\\" class=\\\"footer\\\"></p><p id=\\\"no-files-indicator\\\" class=\\\"footer\\\">\" + (jade.escape((jade_interp = t('no file in folder')) == null ? '' : jade_interp)) + \"</p>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"affixbar\\\" data-spy=\\\"affix\\\" data-offset-top=\\\"1\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div id=\\\"crumbs\\\" class=\\\"pull-left\\\"></div><p class=\\\"pull-right\\\"><input id=\\\"search-box\\\" type=\\\"search\\\"/><div id=\\\"upload-buttons\\\" class=\\\"pull-right\\\"><a id=\\\"share-state\\\" class=\\\"btn btn-cozy btn-cozy-contrast\\\"></a>&nbsp;<a id=\\\"button-upload-new-file\\\"\" + (jade.attr(\"title\", t('upload button'), true, false)) + \" class=\\\"btn btn-cozy btn-cozy\\\"><img src=\\\"images/add-file.png\\\"/></a>&nbsp;<a id=\\\"button-new-folder\\\"\" + (jade.attr(\"title\", t('new folder button'), true, false)) + \" class=\\\"btn btn-cozy\\\"><img src=\\\"images/add-folder.png\\\"/></a>&nbsp;<!--a#download-link.btn.btn-cozy(title=t(\\\"download\\\"))--><!--  i.icon-arrow-down.icon-white--><span>&nbsp;</span></div></p></div></div></div></div><div class=\\\"container\\\"><div class=\\\"row\\\"><div id=\\\"content\\\" class=\\\"col-lg-12\\\"><div id=\\\"files\\\"></div><div id=\\\"files-drop-zone\\\"><div class=\\\"overlay\\\"></div><div class=\\\"vertical-container\\\"><p>\" + (jade.escape(null == (jade_interp = t('drop message')) ? \"\" : jade_interp)) + \"</p></div></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),title = locals_.title,msg = locals_.msg,no = locals_.no,yes = locals_.yes;\nbuf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"close\\\">×</button><h4 class=\\\"modal-title\\\">\" + (jade.escape((jade_interp = title) == null ? '' : jade_interp)) + \"</h4></div><div class=\\\"modal-body\\\"><p>\" + (jade.escape((jade_interp = msg) == null ? '' : jade_interp)) + \"</p></div><div class=\\\"modal-footer\\\">\");\nif ( no)\n{\nbuf.push(\"<button id=\\\"modal-dialog-no\\\" type=\\\"button\\\" class=\\\"btn btn-link\\\">\" + (jade.escape((jade_interp = no) == null ? '' : jade_interp)) + \"</button>\");\n}\nif ( yes)\n{\nbuf.push(\"<button id=\\\"modal-dialog-yes\\\" type=\\\"button\\\" class=\\\"btn btn-cozy\\\">\" + (jade.escape((jade_interp = yes) == null ? '' : jade_interp)) + \"</button>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"close\\\">×</button><h4 class=\\\"modal-title\\\">\" + (jade.escape((jade_interp = t(\"new folder caption\")) == null ? '' : jade_interp)) + \"</h4></div><div class=\\\"modal-body\\\"><fieldset><div class=\\\"form-group\\\"><label for=\\\"inputName\\\">\" + (jade.escape((jade_interp = t(\"new folder msg\")) == null ? '' : jade_interp)) + \"</label><input id=\\\"inputName\\\" type=\\\"text\\\" class=\\\"form-control\\\"/></div><div id=\\\"folder-upload-form\\\" class=\\\"form-group hide\\\"><br/><p class=\\\"text-center\\\">\" + (jade.escape(null == (jade_interp = t('upload folder separator')) ? \"\" : jade_interp)) + \"</p><label for=\\\"inputName\\\">\" + (jade.escape((jade_interp = t(\"upload folder msg\")) == null ? '' : jade_interp)) + \"</label><input id=\\\"folder-uploader\\\" type=\\\"file\\\" directory=\\\"directory\\\" mozdirectory=\\\"mozdirectory\\\" webkitdirectory=\\\"webkitdirectory\\\" class=\\\"form-control\\\"/></div></fieldset></div><div class=\\\"modal-footer\\\"><button id=\\\"modal-dialog-no\\\" type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-link\\\">\" + (jade.escape((jade_interp = t(\"new folder close\")) == null ? '' : jade_interp)) + \"</button><button id=\\\"modal-dialog-yes\\\" type=\\\"button\\\" disabled=\\\"disabled\\\" class=\\\"btn btn-cozy-contrast\\\">\" + (jade.escape((jade_interp = t(\"new folder send\")) == null ? '' : jade_interp)) + \"</button></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"close\\\">×</button><h4 class=\\\"modal-title\\\">\" + (jade.escape((jade_interp = t(\"upload caption\")) == null ? '' : jade_interp)) + \"</h4></div><div class=\\\"modal-body\\\"><div id=\\\"progress-total\\\"></div><fieldset><div class=\\\"form-group\\\"><div id=\\\"uploader\\\"><div class=\\\"text\\\">\" + (jade.escape((jade_interp = t(\"upload msg\")) == null ? '' : jade_interp)) + \"</div><input type=\\\"file\\\" multiple=\\\"multiple\\\"/></div></div></fieldset><div id=\\\"progress-part\\\"></div></div><div class=\\\"modal-footer\\\"><button id=\\\"modal-dialog-no\\\" type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-link\\\">\" + (jade.escape((jade_interp = t(\"upload close\")) == null ? '' : jade_interp)) + \"</button><button id=\\\"modal-dialog-yes\\\" type=\\\"button\\\" disabled=\\\"disabled\\\" class=\\\"btn btn-cozy-contrast\\\">\" + (jade.escape((jade_interp = t(\"upload send\")) == null ? '' : jade_interp)) + \"</button></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),value = locals_.value,name = locals_.name;\nbuf.push(\"<div class=\\\"progress active\\\"><div role=\\\"progressbar\\\"\" + (jade.attr(\"aria-valuenow\", \"\" + (value) + \"\", true, false)) + \" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"\" + (jade.attr(\"style\", \"width: \" + (value) + \"%\", true, false)) + \" class=\\\"progress-bar progress-bar-info\\\">\" + (jade.escape((jade_interp = name) == null ? '' : jade_interp)) + \" \" + (jade.escape((jade_interp = value) == null ? '' : jade_interp)) + \"%</div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","ProgressBar = require './progressbar'\r\n\r\nBaseView = require '../lib/base_view'\r\nmodule.exports = class UploadedFileView extends BaseView\r\n\r\n    className: 'upload-progress-item'\r\n\r\n    initialize: (options) ->\r\n        super options\r\n\r\n        @isDone = false\r\n        @listenTo @model, 'sync', =>\r\n            @isDone = true\r\n            @render()\r\n\r\n    template: ->\r\n        content = $ \"\"\"\r\n            <div class=\"progress-name\">\r\n                <span class=\"name\">#{@model.get('name')}</span>\r\n            </div>\r\n        \"\"\"\r\n        if @model.error\r\n            content.append \"\"\"\r\n            <span class=\"error\"> : #{@model.error}</span>\r\n            \"\"\"\r\n        else if @isDone or @model.isUploaded\r\n            content.append \"\"\"\r\n            <span class=\"success\">#{t 'upload success'}</span>\r\n            \"\"\"\r\n        else\r\n            content.append new ProgressBar(model: @model).render().$el\r\n\r\n        return content\r\n\r\n        destroy: ->\r\n            @stopListening @model\r\n            super()"]}